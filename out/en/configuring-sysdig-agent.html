<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'search';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Configuring Sysdig Agent</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20200410"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20200410"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css?version=20200410"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5e209bd71e919.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20200410" type="text/javascript"></script><script src="../js/html5-2.js?version=20200410" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js?version=20200410" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js?version=20200410" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="filtering-prometheus-metrics.html#UUID-f81119d9-055c-3438-fa20-4a6c6a642fd4_section-idm456966229512003170006342998" title="Sample Prometheus Configuration File"></link><link rel="next" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-6e47f634-1bfa-c26e-dc9f-de074b0789d3" title="Main Config Parameters"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-40398182-24"></script><script type="text/javascript">var propertyid = 'UA-40398182-24';

						window.dataLayer = window.dataLayer || [];
						function gtag(){dataLayer.push(arguments)};
						gtag('js', new Date());
						
						gtag('config', propertyid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target="" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="release-notes.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-dd9807ec-ee8f-4d4b-ad58-a2a0c3f86a71" data-permalink="release-notes.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Release Notes</a><ul><li><a href="sysdig-on-premises-release-notes.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1d285001-3222-3266-bc47-f5e90fc97f82" data-permalink="sysdig-on-premises-release-notes.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date="">Sysdig On-Premises Release Notes</a><ul></ul></li><li><a href="sysdig-agent-release-notes.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-fe4f5502-a333-cef8-65a3-5a73e3532f48" data-permalink="sysdig-agent-release-notes.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-01" data-publication-date="">Sysdig Agent Release Notes</a><ul></ul></li><li><a href="saas--sysdig-monitor-release-notes.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6997cf44-f40d-cf46-5b05-6b141394956c" data-permalink="saas--sysdig-monitor-release-notes.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date="">SaaS: Sysdig Monitor Release Notes</a><ul></ul></li><li><a href="saas--sysdig-secure-release-notes.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-89125390-51e9-162c-70fa-4a2f38fee642" data-permalink="saas--sysdig-secure-release-notes.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date="">SaaS: Sysdig Secure Release Notes</a><ul></ul></li></ul></li><li><a href="sysdig-monitor.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cf513d2c-dcbc-820a-9d34-7836e972cedb" data-permalink="sysdig-monitor.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-21" data-publication-date=""><span class="glyphicon"></span> Sysdig Monitor</a><ul><li><a href="getting-started.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-8ae32ec6-5967-679f-4233-e2c892c46547" data-permalink="getting-started.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date="">Getting Started</a><ul></ul></li><li><a href="overview.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-bb87c712-767c-27e6-ccf1-ec64ef140c7e" data-permalink="overview.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Overview</a><ul><li><a href="clusters-data.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-669a13e0-362f-e66c-952f-5ef5ac5ab691" data-permalink="clusters-data.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-10" data-publication-date="">Clusters Data</a><ul></ul></li><li><a href="nodes-data.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b820d9ff-1ffb-2819-8fc4-dde8a61fc535" data-permalink="nodes-data.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-10" data-publication-date="">Nodes Data</a><ul></ul></li><li><a href="namespaces-data.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-731af9ef-8ec1-9365-4273-cbe9e8dd74f5" data-permalink="namespaces-data.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-10" data-publication-date="">Namespaces Data</a><ul></ul></li><li><a href="workloads-data.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7d06c22a-0e14-b7a8-d8eb-61bd3adce2a1" data-permalink="workloads-data.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-10" data-publication-date="">Workloads Data</a><ul></ul></li></ul></li><li><a href="explore.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-750eae80-c755-cf46-6eb9-22c6f43955f0" data-permalink="explore.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Explore</a><ul><li><a href="explore-interface.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-3190a0f9-aa16-7dc9-8512-a42d7bec36fb" data-permalink="explore-interface.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Explore Interface</a><ul></ul></li><li><a href="explore-table.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-261a7477-95db-6822-fce0-2d23d262053a" data-permalink="explore-table.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Explore Table</a><ul></ul></li><li><a href="time-windows.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d05862c2-22e7-be12-ab9f-24d1339c649c" data-permalink="time-windows.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Time Windows</a><ul></ul></li><li><a href="explore-workflows.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7a8ac85c-c4a0-0daa-8164-4ee108710ede" data-permalink="explore-workflows.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Explore Workflows</a><ul></ul></li></ul></li><li><a href="metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e94a19f7-6093-0566-10a1-6dd7e4972c02" data-permalink="metrics.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Metrics</a><ul><li><a href="grouping,-scoping,-and-segmenting-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-fa798fb2-2766-e1f3-e3ec-c182610124f3" data-permalink="grouping,-scoping,-and-segmenting-metrics.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-11-05" data-publication-date="">Grouping, Scoping, and Segmenting Metrics</a><ul></ul></li><li><a href="understanding-default,-custom,-and-missing-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4c858fe4-2049-45b4-e42f-7f3ef21de62b" data-permalink="understanding-default,-custom,-and-missing-metrics.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-17" data-publication-date="">Understanding Default, Custom, and Missing Metrics</a><ul></ul></li><li><a href="manage-metric-scale.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-9e342926-f8e6-db19-dde1-ffb7f158a677" data-permalink="manage-metric-scale.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Manage Metric Scale</a></li><li><a href="data-aggregation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7f8f550-df2d-de11-cc97-7c294b9af21c" data-permalink="data-aggregation.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Data Aggregation</a><ul></ul></li><li><a href="data-retention.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b0fec462-15a5-210f-9d4e-0b767d812716" data-permalink="data-retention.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-12" data-publication-date="">Data Retention</a></li></ul></li><li><a href="metrics-dictionary.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7e86b06b-0ec7-9a9f-f359-cd11ae03f75b" data-permalink="metrics-dictionary.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-21" data-publication-date=""><span class="glyphicon"></span> Metrics Dictionary</a><ul><li><a href="kubernetes.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4771bbf1-04bd-688d-1537-48a239c171ca" data-permalink="kubernetes.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-25" data-publication-date=""><span class="glyphicon"></span> Kubernetes</a><ul><li><a href="resource-usage.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ddcc8809-0cd9-59f9-b784-9ac3a9b6e05a" data-permalink="resource-usage.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Resource Usage</a><ul></ul></li><li><a href="kubernetes-state.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-61ad7b1f-6310-420c-ff73-828a357087da" data-permalink="kubernetes-state.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-26" data-publication-date="">Kubernetes State</a><ul></ul></li></ul></li></ul></li><li><a href="dashboards.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6543ee06-2b41-7255-fbba-8ca2387e6cd4" data-permalink="dashboards.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Dashboards</a><ul><li><a href="dashboard-scope.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-701fb66f-ed1f-4d11-7967-80dedd34cb46" data-permalink="dashboard-scope.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-27" data-publication-date="">Dashboard Scope</a><ul></ul></li><li><a href="managing-dashboards.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ce863825-46bb-d91e-b5fe-5878b80859b6" data-permalink="managing-dashboards.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Managing Dashboards</a><ul></ul></li><li><a href="configure-dashboards.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-074b816f-3f7b-8063-a4cc-c29cb4390766" data-permalink="configure-dashboards.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Configure Dashboards</a><ul></ul></li><li><a href="configure-panels.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-0befe26d-4f69-fda4-bff6-8e5cc93a2e06" data-permalink="configure-panels.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date=""><span class="glyphicon"></span> Configure Panels</a><ul><li><a href="types-of-panels.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5b32d795-c21d-c75c-599f-65996a526578" data-permalink="types-of-panels.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Types of Panels</a><ul></ul></li><li><a href="create-panels.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ea4136a8-f437-9e34-6a01-6ac526a82be2" data-permalink="create-panels.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Create Panels</a><ul></ul></li><li><a href="managing-panels.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5a1722ec-14f1-7da8-92b1-a15dd3eccb25" data-permalink="managing-panels.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Managing Panels</a><ul></ul></li></ul></li><li><a href="visualizing-metrics-using-the-topology-view.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-9fff1d24-749f-9b48-6ddf-25ab8aae4186" data-permalink="visualizing-metrics-using-the-topology-view.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-06" data-publication-date="">Visualizing Metrics Using the Topology View</a><ul></ul></li><li><a href="pre-defined-dashboards.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ed555e31-8cbf-611c-2c64-a64c5d7f870f" data-permalink="pre-defined-dashboards.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Pre-Defined Dashboards</a><ul></ul></li><li><a href="save-and-restore-dashboards-with-scripts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-95439b75-8ce6-021a-272f-c335b8783b00" data-permalink="save-and-restore-dashboards-with-scripts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Save and Restore Dashboards with Scripts</a><ul></ul></li><li><a href="new-dashboards.html" class="topic-link section lang-en" data-origin-id="UUID-8390bacb-dc39-6af4-d562-e68e8b77f361" data-permalink="new-dashboards.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-10" data-publication-date=""><span class="glyphicon"></span> New Dashboards</a><ul><li><a href="configure-new-dashboard.html" class="topic-link section lang-en" data-origin-id="UUID-ea648a22-bc15-f43d-c3e4-d7a06f7f8455" data-permalink="configure-new-dashboard.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-20" data-publication-date="">Configure New Dashboard</a><ul></ul></li><li><a href="using-promql.html" class="topic-link section lang-en" data-origin-id="UUID-43faafaa-5235-9e9f-bb44-a1e1aae2b851" data-permalink="using-promql.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-10" data-publication-date="">Using PromQL</a><ul></ul></li><li><a href="types-of-panels-202953.html" class="topic-link section lang-en" data-origin-id="UUID-f60cb304-1618-2d87-c5fb-9cfaaf5659e4" data-permalink="types-of-panels-202953.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-03" data-publication-date=""><span class="glyphicon"></span> Types of Panels</a><ul><li><a href="timechart-panel.html" class="topic-link section lang-en" data-origin-id="" data-permalink="timechart-panel.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-01" data-publication-date="">Timechart Panel</a><ul></ul></li><li><a href="number-panel.html" class="topic-link section lang-en" data-origin-id="" data-permalink="number-panel.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-01" data-publication-date="">Number Panel</a><ul></ul></li><li><a href="toplist.html" class="topic-link section lang-en" data-origin-id="" data-permalink="toplist.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-01" data-publication-date="">Toplist</a><ul></ul></li><li><a href="table-panel.html" class="topic-link section lang-en" data-origin-id="" data-permalink="table-panel.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-01" data-publication-date="">Table Panel</a></li></ul></li><li><a href="sharing-new-dashboards.html" class="topic-link section lang-en" data-origin-id="UUID-30d01912-b705-dfd6-47f4-776247c6fe0c" data-permalink="sharing-new-dashboards.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-06" data-publication-date="">Sharing New Dashboards</a><ul></ul></li><li><a href="create-panel-alerts.html" class="topic-link section lang-en" data-origin-id="UUID-4f678ce7-4482-1620-1c31-5e0f69bda219" data-permalink="create-panel-alerts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-06" data-publication-date="">Create Panel Alerts</a></li><li><a href="export-panel-data.html" class="topic-link section lang-en" data-origin-id="UUID-ec56073d-d00f-0506-f30b-b44755116c46" data-permalink="export-panel-data.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-06" data-publication-date="">Export Panel Data</a></li></ul></li></ul></li><li><a href="events.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cdb2837c-9f5c-8903-f4b1-f85f5c43b776" data-permalink="events.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Events</a><ul><li><a href="event-types.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e42b7c3d-e9ca-3aea-ee32-5661af1a26c2" data-permalink="event-types.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Event Types</a><ul></ul></li><li><a href="custom-events.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-88fabc41-9edd-f573-f960-02ed98c8188a" data-permalink="custom-events.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Custom Events</a><ul></ul></li><li><a href="severity-and-status.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4c9cd7b7-6827-1dd7-ec5f-52f9f588f12d" data-permalink="severity-and-status.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Severity and Status</a><ul></ul></li><li><a href="event-scope.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4be48c3e-54fd-6ba5-f54a-f780121abcad" data-permalink="event-scope.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Event Scope</a><ul></ul></li><li><a href="configure-event-alerts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-bc1e71a8-b424-02fc-025d-8a31786408af" data-permalink="configure-event-alerts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Configure Event Alerts</a></li><li><a href="filtering-and-searching-events.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-75956075-8e17-448a-9f70-770af49c5239" data-permalink="filtering-and-searching-events.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Filtering and Searching Events</a><ul></ul></li><li><a href="review-events.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4b4d5cfe-f283-f652-0edd-13a616a603e4" data-permalink="review-events.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Review Events</a><ul></ul></li></ul></li><li><a href="alerts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-be6ed664-65ef-3126-e92e-738130727557" data-permalink="alerts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Alerts</a><ul><li><a href="event-alerts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-0bf532d2-ffe3-4b36-0bed-16f6a6959ca0" data-permalink="event-alerts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Event Alerts</a><ul></ul></li><li><a href="metric-alerts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c79f8632-c0fa-889e-c4b7-af1a4092bf78" data-permalink="metric-alerts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Metric Alerts</a><ul></ul></li><li><a href="downtime-alert.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-9438d891-3dae-7754-48c4-d7e6e7c6c4a7" data-permalink="downtime-alert.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Downtime Alert</a><ul></ul></li><li><a href="anomaly-detection-alerts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ea26c59a-1e48-9591-3c0b-11ca40daa485" data-permalink="anomaly-detection-alerts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Anomaly Detection Alerts</a><ul></ul></li><li><a href="group-outlier-alerts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-341c1894-364f-bd86-482d-91bb48cf64c7" data-permalink="group-outlier-alerts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Group Outlier Alerts</a><ul></ul></li></ul></li><li><a href="captures.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-8f529236-a0ba-61c8-aa5a-cedfe4235802" data-permalink="captures.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-10" data-publication-date=""><span class="glyphicon"></span> Captures</a><ul><li><a href="configure-sysdig-captures.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d4dd87c8-1727-03d5-6870-41109acc19ae" data-permalink="configure-sysdig-captures.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-20" data-publication-date="">Configure Sysdig Captures</a><ul></ul></li><li><a href="review-a-capture-file.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-691caa0a-9125-bb46-a4cc-e88d0a0894fe" data-permalink="review-a-capture-file.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Review a Capture File</a><ul></ul></li></ul></li></ul></li><li><a href="sysdig-platform.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-52dc5986-b2ec-90eb-315a-d9571e1f129d" data-permalink="sysdig-platform.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-27" data-publication-date=""><span class="glyphicon"></span> Sysdig Platform</a><ul><li><a href="on-premises-deployments.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a1cd5bd1-2a9f-538d-15dc-dd50b86fb388" data-permalink="on-premises-deployments.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-10" data-publication-date=""><span class="glyphicon"></span> On-Premises Deployments</a><ul><li><a href="on-premises-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d413875e-1993-95b9-de77-d06fcc0596e5" data-permalink="on-premises-installation.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-15" data-publication-date="">On-Premises Installation</a><ul></ul></li><li><a href="administration-settings.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2386ce2e-d55e-4e81-98d4-3215a8ed0143" data-permalink="administration-settings.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-04" data-publication-date="">Administration Settings</a><ul></ul></li><li><a href="authentication-and-authorization--on-prem-options-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c07b3237-adc2-c6b6-80b6-424507df27d6" data-permalink="authentication-and-authorization--on-prem-options-.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-30" data-publication-date=""><span class="glyphicon"></span> Authentication and Authorization (On-Prem Options)</a><ul><li><a href="configure-split-dns.html" class="topic-link section lang-en" data-origin-id="UUID-98d39d36-66d0-4ff4-b80d-d8adf71c0772" data-permalink="configure-split-dns.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-26" data-publication-date="">Configure Split DNS</a><ul></ul></li><li><a href="disable-password-authentication.html" class="topic-link section lang-en" data-origin-id="UUID-0386cece-5fa6-7716-9370-81e1336b9e20" data-permalink="disable-password-authentication.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-04" data-publication-date="">Disable Password Authentication</a><ul></ul></li><li><a href="adfs--saml-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-3ad7571f-51b2-eb1d-ea60-0c7a87b83707" data-permalink="adfs--saml-.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-05" data-publication-date="">ADFS (SAML)</a><ul></ul></li><li><a href="azure-active-directory--saml-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5ab8d10c-4564-78b5-1672-1c2bb59fbf1c" data-permalink="azure-active-directory--saml-.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-09" data-publication-date="">Azure Active Directory (SAML)</a><ul></ul></li></ul></li><li><a href="storage--configure-options-for-capture-files.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e465923c-6755-2964-0e51-24e50dd00828" data-permalink="storage--configure-options-for-capture-files.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-04" data-publication-date="">Storage: Configure Options for Capture Files</a><ul></ul></li><li><a href="aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-63e75e32-c79c-9498-7d87-cb994d4935ba" data-permalink="aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-27" data-publication-date=""><span class="glyphicon"></span> AWS: Integrate AWS Account and CloudWatch Metrics (Optional)</a><ul><li><a href="iam-policy-code-to-use.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a1b05870-112b-4527-6e77-c1106a8b444b" data-permalink="iam-policy-code-to-use.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">IAM Policy Code to Use</a></li><li><a href="integrate-with-aws-role-delegation.html" class="topic-link section lang-en" data-origin-id="UUID-97236c0c-0638-441b-85fe-7af25f340e7c" data-permalink="integrate-with-aws-role-delegation.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-02" data-publication-date="">Integrate with AWS Role Delegation</a><ul></ul></li></ul></li></ul></li></ul></li><li><a href="sysdig-developer.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-419d027d-ba53-3b74-f552-820e12ff66f8" data-permalink="sysdig-developer.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-17" data-publication-date=""><span class="glyphicon"></span> Sysdig Developer</a><ul><li><a href="working-with-the-data-api.html" class="topic-link section lang-en" data-origin-id="UUID-2a7c9b63-106e-e54d-589c-4a93825fc3ce" data-permalink="working-with-the-data-api.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-18" data-publication-date=""><span class="glyphicon"></span> Working with the Data API</a><ul><li><a href="guidelines-for-using-data-api.html" class="topic-link section lang-en" data-origin-id="UUID-63adb067-b1b0-7e8f-437c-8e17ad775618" data-permalink="guidelines-for-using-data-api.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-17" data-publication-date="">Guidelines for Using Data API</a><ul></ul></li></ul></li><li><a href="sysdig-api.html" class="topic-link section swagger-topic lang-en swagger-topic" data-origin-id="UUID-b921ca06-5c7a-4b3b-1b47-51d1fff51b7d" data-permalink="sysdig-api.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-02-07" data-publication-date="">Sysdig API</a></li></ul></li><li><a href="sysdig-integrations.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e04c5f81-e707-c13e-0bae-80f2e34419d1" data-permalink="sysdig-integrations.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-31" data-publication-date=""><span class="glyphicon"></span> Sysdig Integrations</a><ul><li><a href="working-with-prometheus-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-9e759049-f3eb-518a-3bb7-2fe95a7f5805" data-permalink="working-with-prometheus-metrics.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-02" data-publication-date=""><span class="glyphicon"></span> Working with Prometheus Metrics</a><ul><li><a href="setting-up-the-environment.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-29458f49-8663-03de-fd88-4684cbe2334f" data-permalink="setting-up-the-environment.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Setting up the Environment</a><ul></ul></li><li><a href="filtering-prometheus-metrics.html" class="topic-link section lang-en" data-origin-id="UUID-d3544267-9636-8855-8498-de659022c6ae" data-permalink="filtering-prometheus-metrics.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-04-02" data-publication-date="">Filtering Prometheus Metrics</a><ul></ul></li><li><a href="configuring-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e436f449-9d32-7dca-24d4-d9d6fd00e75f" data-permalink="configuring-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-25" data-publication-date="">Configuring Sysdig Agent</a><ul></ul></li><li><a href="example-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7fe102ef-eb52-0b12-3dba-1d7765482cc7" data-permalink="example-configuration.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-01-02" data-publication-date="">Example Configuration</a><ul></ul></li><li><a href="enabling-histogram-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b8331c18-e09c-97fd-2437-9b4f47cab77d" data-permalink="enabling-histogram-metrics.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Enabling Histogram Metrics</a></li><li><a href="logging-and-troubleshooting.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4622f20e-c2af-f220-0a3f-e70f64e54f18" data-permalink="logging-and-troubleshooting.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Logging and Troubleshooting</a><ul></ul></li><li><a href="collecting-prometheus-metrics-from-remote-hosts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-3b614d06-5c8b-49ac-b1b7-35413cdf426d" data-permalink="collecting-prometheus-metrics-from-remote-hosts.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Collecting Prometheus Metrics from Remote Hosts</a><ul></ul></li><li><a href="legacy-prometheus-application-check.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5ae33761-f27c-9c36-a9a4-4cb2ef696a76" data-permalink="legacy-prometheus-application-check.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2019-09-16" data-publication-date="">Legacy Prometheus Application Check</a></li></ul></li></ul></li></ul></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link">Â <span class="current-category">Staging Sysdig Documentation</span></li><li class="breadcrumb-link"><a href="sysdig-integrations.html">Sysdig Integrations</a></li><li class="breadcrumb-link"><a href="working-with-prometheus-metrics.html">Working with Prometheus Metrics</a></li><li class="breadcrumb-node">Configuring Sysdig Agent</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="filtering-prometheus-metrics.html#UUID-f81119d9-055c-3438-fa20-4a6c6a642fd4_section-idm456966229512003170006342998">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-6e47f634-1bfa-c26e-dc9f-de074b0789d3">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-e436f449-9d32-7dca-24d4-d9d6fd00e75f" data-permalink="configuring-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-time-modified="2020-03-25" data-publication-date="" id="UUID-221eed32-0f27-d712-f288-a3afccb95415"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Configuring Sysdig Agent</h1></div></div></div><p>As is typical for the Agent, the default configuration for the feature is specified in <span class="bold bold"><strong><code class="code">dragent.default.yaml</code></strong></span>, and you can override the defaults by <a class="link linktextconsumer" href="/document/preview/113265#UUID-f2f3c230-ee88-1fc8-d96f-58d9007e6cd9" target="_blank">configuring parameters</a> in the <span class="bold bold"><strong><code class="code">dragent.yaml</code></strong></span>. For each parameter, you do not set in <span class="bold bold"><strong><code class="code">dragent.yaml</code></strong></span>, the defaults in <span class="bold bold"><strong><code class="code">dragent.default.yaml</code></strong></span> will remain in effect.<span id="UUID-221eed32-0f27-d712-f288-a3afccb95415_N5e90dfc9e8150" class="linktextprovider linktextprovider" style="display:none !important;">Understand Agent Config</span></p><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-time-modified="2020-04-01" data-publication-date="" id="UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-6e47f634-1bfa-c26e-dc9f-de074b0789d3"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Main Config Parameters</h2></div></div></div><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col><col></col></colgroup><thead><tr><th class="th"><p>Parameter</p></th><th class="th"><p>Default</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">enabled</code></p></td><td class="td"><p><code class="code">false</code></p></td><td class="td"><p>Turns Prometheus scraping on/off.</p></td></tr><tr><td class="td"><p><code class="code">interval</code></p></td><td class="td"><p><code class="code">10</code></p></td><td class="td"><p>How often (in seconds) the Agent will scrape a port for Prometheus metrics</p></td></tr><tr><td class="td"><p><code class="code">log_errors</code></p></td><td class="td"><p><code class="code">true</code></p></td><td class="td"><p>Whether the Agent should log details on failed attempts to scrape eligible targets</p></td></tr><tr><td class="td"><p><code class="code">max_metrics</code></p></td><td class="td"><p><code class="code">1000</code></p></td><td class="td"><p>The maximum number of total Prometheus metrics that will be scraped across all targets. This value of 1000 is the maximum per-Agent, and is a separate limit from other Custom Metrics (e.g. <a class="link linktextconsumer" href="/document/preview/113823#UUID-6a0fd0f5-b57b-7123-7901-633df42b3f34" target="_blank">statsd</a>, <a class="link linktextconsumer" href="/document/preview/113812#UUID-f45a4bb4-e69f-826a-80f5-0bf56d56ed5e" target="_blank">JMX</a>, and other <a class="link linktextconsumer" href="/document/preview/113844#UUID-5e631650-c160-21f4-566c-ef49e6e6e4b5" target="_blank">Application Checks</a>).<span id="UUID-221eed32-0f27-d712-f288-a3afccb95415_N5e90dfc9e81e1" class="linktextprovider linktextprovider" style="display:none !important;">Integrate StatsD Metrics</span><span id="UUID-221eed32-0f27-d712-f288-a3afccb95415_N5e90dfc9e826f" class="linktextprovider linktextprovider" style="display:none !important;">Integrate JMX Metrics from Java Virtual Machines</span><span id="UUID-221eed32-0f27-d712-f288-a3afccb95415_N5e90dfc9e82fd" class="linktextprovider linktextprovider" style="display:none !important;">Integrate Applications (Default App Checks)</span></p></td></tr><tr><td class="td"><p><code class="code">max_metrics_per_process</code></p></td><td class="td"><p><code class="code">1000</code></p></td><td class="td"><p>The maximum number of Prometheus metrics that the Agent will save from a single scraped target.</p><p>(Default changed from 100 to 1000 in agent version 0.90.3.)</p></td></tr><tr><td class="td"><p><code class="code">max_tags_per_metric</code></p></td><td class="td"><p><code class="code">20</code></p></td><td class="td"><p>The maximum number of tags per Prometheus metric that the Agent will save from a scraped target</p></td></tr><tr><td class="td"><p><code class="code">histograms</code></p></td><td class="td"><p><code class="code">false</code></p></td><td class="td"><p>Whether the Agent should scrape and report histogram metrics. See <a class="xref" href="enabling-histogram-metrics.html" title="Enabling Histogram Metrics"><span class="xreftitle">Enabling Histogram Metrics</span></a>for details.</p></td></tr><tr><td class="td"><p><code class="code">process_filter</code></p></td><td class="td"><p>See below</p></td><td class="td"><p>Specifies which processes may be eligible for scraping. See the <a class="xref" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-37ea9d54-0eba-bf8b-c5a2-81ca4addd09d" title="Process Filter"><span class="xreftitle">Process Filter</span></a> section below.</p></td></tr><tr><td class="td"><p><code class="code">timeout</code></p></td><td class="td"><p><code class="code">1</code></p></td><td class="td"><p>Used to configure the amount of time the agent will wait while scraping a Prometheus endpoint before timing out. The default value is 1 second.</p></td></tr><tr><td class="td"><p><code class="code">use_promscrape</code></p></td><td class="td"><p><code class="code">false</code></p></td><td class="td"><p>As of agent v9.8.0, users can filter Prometheus metrics at the source before ingestion. To enable this feature, set <code class="code">use_promscrape</code> to true. For more information, see <a class="xref" href="filtering-prometheus-metrics.html" title="Filtering Prometheus Metrics"><span class="xreftitle">Filtering Prometheus Metrics</span></a>.</p></td></tr></tbody></table></div></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-time-modified="2019-12-12" data-publication-date="" id="UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-37ea9d54-0eba-bf8b-c5a2-81ca4addd09d"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Process Filter</h2></div></div></div><p>The <span class="bold bold"><strong><code class="code">process_filter</code></strong></span> section specifies which of the processes known by an Agent may be eligible for scraping.</p><p>Note that once you specify a <span class="bold bold"><strong><code class="code">process_filter</code></strong></span> in your <span class="bold bold"><strong><code class="code">dragent.yaml</code></strong></span>, this replaces the entire Prometheus <span class="bold bold"><strong><code class="code">process_filter</code></strong></span> section (i.e. all rules) shown in the <span class="bold bold"><strong><code class="code">dragent.default.yaml</code></strong></span>.</p><p>The Process Filter is specified in a series of <span class="bold bold"><strong><code class="code">include</code></strong></span> and <span class="bold bold"><strong><code class="code">exclude</code></strong></span> rules that are evaluated top-to-bottom for each process known by an Agent. If a process matches an <span class="bold bold"><strong><code class="code">include</code></strong></span> rule, scraping will be attempted via a <span class="bold bold"><strong><code class="code">/metrics</code></strong></span> endpoint on each listening TCP port for the process, unless a <span class="bold bold"><strong><code class="code">conf</code></strong></span> section also appears within the rule to further restrict how the process will be scraped (see <a class="xref" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-4203d375-facb-00e1-b984-944b6377a2eb" title="conf"><span class="xreftitle">conf</span></a> below).</p><p>Multiple patterns can be specified in a single rule, in which case all patterns must match for the rule to be a match (AND logic).</p><p>Within a pattern value, simple "glob" wildcarding may be used, where <span class="bold bold"><strong><code class="code">*</code></strong></span> matches any number of characters (including none) and <span class="bold bold"><strong><code class="code">?</code></strong></span> matches any single character. Note that due to YAML syntax, when using wildcards, be sure to enclose the value in quotes (<span class="bold bold"><strong><code class="code">"*"</code></strong></span>).</p><p>The table below describes the supported patterns in Process Filter rules. To provide realistic examples, we'll use a simple <a class="link" href="https://hub.docker.com/r/luca3m/prometheus-java-app/" target="_blank" rel="noopener">sample Prometheus exporter</a> (source code <a class="link" href="https://github.com/luca3m/app-examples/tree/master/prometheus-java" target="_blank" rel="noopener">here</a>) which can be deployed as a container using the Docker command line below. To help illustrate some of the configuration options, this sample exporter presents Prometheus metrics on <span class="bold bold"><strong><code class="code">/promtheus</code></strong></span> instead of the more common <code class="code">/metrics</code> endpoint, which will be shown in the example configurations further below.</p><pre class="programlisting"># docker run -d -p 8080:8080 \
    --label class="exporter" \
    --name my-java-app \
    luca3m/prometheus-java-app
 
# ps auxww | grep app.jar
root     11502 95.9  9.2 3745724 753632 ?      Ssl  15:52   1:42 java -jar /app.jar --management.security.enabled=false
 
# curl http://localhost:8080/prometheus
...
random_bucket{le="0.005",} 6.0
random_bucket{le="0.01",} 17.0
random_bucket{le="0.025",} 51.0
...</pre><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col><col></col></colgroup><thead><tr><th class="th"><p>Pattern name</p></th><th class="th"><p>Description</p></th><th class="th"><p>Example</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">container.image</code></p></td><td class="td"><p>Matches if the process is running inside a container running the specified image</p></td><td class="td"><p><code class="code">- include:</code></p><p><code class="code"> container.image: luca3m/prometheus-java-app</code></p></td></tr><tr><td class="td"><p><code class="code"><a class="link" href="http://container.name" target="_blank" rel="noopener">container.name</a></code></p></td><td class="td"><p>Matches if the process is running inside a container with the specified name</p></td><td class="td"><p><code class="code">- include:</code></p><p><code class="code"><a class="link" href="http://container.name" target="_blank" rel="noopener">container.name</a>: my-java-app</code></p></td></tr><tr><td class="td"><p><code class="code">container.label.*</code></p></td><td class="td"><p>Matches if the process is running in a container that has a Label matching the given value</p></td><td class="td"><p><code class="code">- include:</code></p><p><code class="code"> container.label.class: exporter</code></p></td></tr><tr><td class="td"><p><code class="code">kubernetes.&lt;object&gt;.annotation.* kubernetes.&lt;object&gt;.label.*</code></p></td><td class="td"><p>Matches if the process is attached to a Kubernetes object (Pod, Namespace, etc.) that is marked with the Annotation/Label matching the given value.</p><p>Note: This pattern does not apply to the Docker-only command-line shown above, but would instead apply if the exporter were installed as a Kubernetes Deployment using <a class="link" href="https://raw.githubusercontent.com/luca3m/app-examples/master/prometheus-java/prometheus-java-app.yaml" target="_blank" rel="noopener">this example YAML</a>.</p><p>Note: See <a class="xref" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-a3930ca7-079b-367e-390d-84ff11b10e02" title="Kubernetes Objects"><span class="xreftitle">Kubernetes Objects</span></a>, below, for information on the full set of supported Annotations and Labels.</p></td><td class="td"><p><code class="code">- include:</code></p><p><code class="code"><a class="link" href="http://kubernetes.pod.annotation.prometheus.io/scrape" target="_blank" rel="noopener">kubernetes.pod.annotation.prometheus.io/scrape</a>: true</code></p></td></tr><tr><td class="td"><p><code class="code"><a class="link" href="http://process.name" target="_blank" rel="noopener">process.name</a></code></p></td><td class="td"><p>Matches the name of the running process</p></td><td class="td"><p><code class="code">- include:</code></p><p><code class="code"><a class="link" href="http://process.name" target="_blank" rel="noopener">process.name</a>: java</code></p></td></tr><tr><td class="td"><p><code class="code">process.cmdline</code></p></td><td class="td"><p>Matches a command line argument</p></td><td class="td"><p><code class="code">- include:</code></p><p><code class="code"> process.cmdline: "*app.jar*"</code></p></td></tr><tr><td class="td"><p><code class="code">port</code></p></td><td class="td"><p>Matches if the process is listening on one or more TCP ports.</p><p>The pattern for a single rule can specify a single port as shown in this example, or a single range (e.g.<code class="code">8079-8081</code>), but does not support comma-separated lists of ports/ranges.</p><p>Note: This parameter is <span class="italic italic">only</span> used to confirm if a process is eligible for scraping based on the ports on which it is listening. For example, if a process is listening on one port for application traffic and has a second port open for exporting Prometheus metrics, it would be possible to specify the application port here (but not the exporting port), and the exporting port in the <a class="xref" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-4203d375-facb-00e1-b984-944b6377a2eb" title="conf"><span class="xreftitle">conf</span></a> section (but not the application port), and the process would be matched as eligible and the exporting port would be scraped.</p></td><td class="td"><p><code class="code">- include:</code></p><p><code class="code"> port: 8080</code></p></td></tr><tr><td class="td"><p><code class="code">appcheck.match</code></p></td><td class="td"><p>Matches if an <a class="link linktextconsumer" href="/document/preview/113844#UUID-5e631650-c160-21f4-566c-ef49e6e6e4b5" target="_blank">Application Check</a> with the specific name or pattern is scheduled to run for the process.<span id="UUID-221eed32-0f27-d712-f288-a3afccb95415_N5e90dfc9e83a4" class="linktextprovider linktextprovider" style="display:none !important;">Integrate Applications (Default App Checks)</span></p></td><td class="td"><p><code class="code">- exclude:</code></p><p><code class="code"> appcheck.match: "*"</code></p></td></tr></tbody></table></div><p>Instead of the <span class="bold bold"><strong><code class="code">include</code></strong></span> examples shown above that would have each matched our process, due to the previously-described ability to combine multiple patterns in a single rule, the following very strict configuration would also have matched:</p><pre class="programlisting">- include:
    container.image: luca3m/prometheus-java-app
    container.name: my-java-app
    container.label.class: exporter
    process.name: java
    process.cmdline: "*app.jar*"
    port: 8080</pre></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-time-modified="2019-12-12" data-publication-date="" id="UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-4203d375-facb-00e1-b984-944b6377a2eb"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">conf</h2></div></div></div><p>Each <span class="bold bold"><strong><code class="code">include</code></strong></span> rule in the <span class="bold bold"><strong><code class="code">port_filter</code></strong></span> may include a <span class="bold bold"><strong><code class="code">conf</code></strong></span> portion that further describes how scraping will be attempted on the eligible process. If a <span class="bold bold"><strong><code class="code">conf</code></strong></span> portion is not included, scraping will be attempted at a <span class="bold bold"><strong><code class="code">/metrics</code></strong></span> endpoint on all listening ports of the matching process. The possible settings:</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col><col></col></colgroup><thead><tr><th class="th"><p>Parameter name</p></th><th class="th"><p>Description</p></th><th class="th"><p>Example</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">port</code></p></td><td class="td"><p>Either a static number for a single TCP port to be scraped, or a container/Kubernetes Label name or Kubernetes Annotation specified in curly braces. If the process is running in a container that is marked with this Label or is attached to a Kubernetes object (Pod, Namespace, etc.) that is marked with this Annotation/Label, scraping will be attempted only on the port specified as the value of the Label/Annotation.</p><p>Note: The Label/Annotation to match against will not include the text shown in <span class="bold bold"><strong>red</strong></span>.</p><p>Note: See <a class="xref" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-a3930ca7-079b-367e-390d-84ff11b10e02" title="Kubernetes Objects"><span class="xreftitle">Kubernetes Objects</span></a>for information on the full set of supported Annotations and Labels.</p><p>Note: If running the exporter inside a container, this should specify the port number that the exporter process in the container is listening on, not the port that the container exposes to the host.</p></td><td class="td"><p><code class="code">port: 8080</code></p><p>- or -</p><p><code class="code">port: "{container.label.io.prometheus.port}" </code></p><p>- or -</p><p><code class="code">port: "{kubernetes.pod.annotation.<a class="link" href="http://prometheus.io/port" target="_blank" rel="noopener">prometheus.io/port</a>}" </code></p></td></tr><tr><td class="td"><p><code class="code">port_filter</code></p></td><td class="td"><p>A set of include and exclude rules that define the ultimate set of listening TCP ports for an eligible process on which scraping may be attempted. Note that the syntax is different from the <span class="bold bold"><strong><code class="code">port</code></strong></span> pattern option from within the higher-level include rule in the <span class="bold bold"><strong><code class="code">process_filter</code></strong></span>. Here a given rule can include single ports, comma-separated lists of ports (enclosed in square brackets), or contiguous port ranges (without brackets).</p></td><td class="td"><p><code class="code">port_filter:</code></p><p><code class="code"> - include: 8080 </code><code class="code"> - exclude: [9092,9200,9300] - include: 9090-9100</code></p></td></tr><tr><td class="td"><p><code class="code">path</code></p></td><td class="td"><p>Either the static specification of an endpoint to be scraped, or a container/Kubernetes Label name or Kubernetes Annotation specified in curly braces. If the process is running in a container that is marked with this Label or is attached to a Kubernetes object (Pod, Namespace, etc.) that is marked with this Annotation/Label, scraping will be attempted via the endpoint specified as the value of the Label/Annotation.</p><p>If <span class="bold bold"><strong><code class="code">path</code></strong></span> is not specified, or specified but the Agent does not find the Label/Annotation attached to the process, the common Prometheus exporter default of <span class="bold bold"><strong><code class="code">/metrics</code></strong></span> will be used.</p><p>Note: A Label/Annotation to match against will not include the text shown in <span class="bold bold"><strong>red</strong></span>.</p><p>Note: See <a class="xref" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-a3930ca7-079b-367e-390d-84ff11b10e02" title="Kubernetes Objects"><span class="xreftitle">Kubernetes Objects</span></a> for information on the full set of supported Annotations and Labels.</p></td><td class="td"><p><code class="code">path: "/prometheus"</code></p><p>- or -</p><p><code class="code">path: "{container.label.io.prometheus.path}" </code></p><p>- or -</p><p><code class="code">path: "{kubernetes.pod.annotation.<a class="link" href="http://prometheus.io/path" target="_blank" rel="noopener">prometheus.io/path</a>}" </code></p></td></tr><tr><td class="td"><p>host</p><pre class="programlisting"></pre></td><td class="td"><p>A hostname or IP address. The default is localhost.</p></td><td class="td"><pre class="programlisting">host: 192.168.1.101
- or -
host: subdomain.example.com
- or -
host: localhost</pre></td></tr><tr><td class="td"><p><code class="code">use_https</code></p></td><td class="td"><p>When set to <span class="bold bold"><strong><code class="code">true</code></strong></span>, connectivity to the exporter will only be attempted through HTTPS instead of HTTP. It is <span class="bold bold"><strong><code class="code">false</code></strong></span> by default.</p><p>(Available in Agent version 0.79.0 and newer)</p></td><td class="td"><p><code class="code">use_https: true</code></p></td></tr><tr><td class="td"><p><code class="code">ssl_verify</code></p></td><td class="td"><p>When set to <span class="bold bold"><strong><code class="code">true</code></strong></span>, verification will be performed for the server certificates for an HTTPS connection. It is <span class="bold bold"><strong><code class="code">false</code></strong></span> by default. Verification was enabled by default before 0.79.0.</p><p>(Available in Agent version 0.79.0 and newer)</p></td><td class="td"><p><code class="code">ssl_verify: true</code></p></td></tr></tbody></table></div><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-time-modified="2019-09-16" data-publication-date="" id="UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-936af1f8-38cb-3e7c-6541-306d7f04b9b0"><div class="titlepage"><div><div class="title"><h3 class="title">Authentication Integration</h3></div></div></div><p>As of agent version 0.89, Sysdig can collect Prometheus metrics from endpoints requiring authentication. Use the parameters below to enable this function.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For username/password authentication:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <code class="code">username</code> </p></li><li class="listitem"><p> <code class="code">password</code> </p></li></ul></div></li><li class="listitem"><p>For authentication using a token:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <code class="code">auth_token_path </code> </p></li></ul></div></li><li class="listitem"><p>For certificate authentication with a certificate key:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <code class="code">auth_cert_path</code> </p></li><li class="listitem"><p> <code class="code">auth_key_path</code> </p></li></ul></div></li></ul></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>Token substitution is also supported for all the authorization parameters. For instance a username can be taken from a Kubernetes annotation by specifying</p><p> <code class="code">username: "{<a class="link" href="http://kubernetes.service.annotation.prometheus.openshift.io/username" target="_blank" rel="noopener">kubernetes.service.annotation.prometheus.openshift.io/username</a>}"</code> </p></div></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-time-modified="2019-09-16" data-publication-date="" id="UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-82226a67-2701-9212-b847-98423f386c0e"><div class="titlepage"><div><div class="title"><h3 class="title">conf Authentication Example</h3></div></div></div><p>Below is an example of the <code class="code">dragent.yaml</code> section showing all the Prometheus authentication configuration options, on OpenShift, Kubernetes, and etcd.</p><p>In this example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The <code class="code">username/password</code> are taken from a default annotation used by OpenShift.</p></li><li class="listitem"><p>The <code class="code">auth token</code> path is commonly available in Kubernetes deployments.</p></li><li class="listitem"><p>The <code class="code">certificate</code> and <code class="code">key</code> used here for etcd may normally not be as easily accessible to the agent. In this case they were extracted from the host namespace, constructed into Kubernetes secrets, and then mounted into the agent container.</p></li></ul></div><pre class="programlisting">prometheus: 
  enabled: true
  process_filter: 
    - include: 
        port: 1936
        conf: 
            username: "{kubernetes.service.annotation.prometheus.openshift.io/username}"
            password: "{kubernetes.service.annotation.prometheus.openshift.io/password}"
    - include: 
        process.name: kubelet
        conf: 
            port: 10250
            use_https: true
            auth_token_path: "/run/secrets/kubernetes.io/serviceaccount/token"
    - include: 
        process.name: etcd
        conf: 
            port: 2379
            use_https: true
            auth_cert_path: "/run/secrets/etcd/client-cert"
            auth_key_path: "/run/secrets/etcd/client-key"</pre></section></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-time-modified="2019-12-12" data-publication-date="" id="UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-a3930ca7-079b-367e-390d-84ff11b10e02"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Kubernetes Objects</h2></div></div></div><p>As described above, there are multiple configuration options that can be set based on auto-discovered values for Kubernetes Labels and/or Annotations. The format in each case begins with <code class="code">"kubernetes.OBJECT.annotation." </code>or <code class="code">"kubernetes.OBJECT.label."</code> where <code class="code">OBJECT</code> can be any of the following supported Kubernetes object types:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">daemonSet</code></p></li><li class="listitem"><p><code class="code">deployment</code></p></li><li class="listitem"><p><code class="code">namespace</code></p></li><li class="listitem"><p><code class="code">node</code></p></li><li class="listitem"><p><code class="code">pod</code></p></li><li class="listitem"><p><code class="code">replicaSet</code></p></li><li class="listitem"><p><code class="code">replicationController</code></p></li><li class="listitem"><p><code class="code">service</code></p></li><li class="listitem"><p><code class="code">statefulset</code></p></li></ul></div><p>The configuration text you add after the final dot becomes the name of the Kubernetes Label/Annotation that the Agent will look for. If the Label/Annotation is discovered attached to the process, the value of that Label/Annotation will be used for the configuration option.</p><p>Note that there are multiple ways for a Kubernetes Label/Annotation to be attached to a particular process. One of the simplest examples of this is the Pod-based approach shown in <a class="xref" href="setting-up-the-environment.html#UUID-277f0daa-b996-6e1d-cd98-77de2b72eb3a_UUID-fb703d77-777b-5e05-5a82-213055efaf5f" title="Quick Start For Kubernetes Environments"><span class="xreftitle">Quick Start For Kubernetes Environments</span></a>. However, as an example alternative to marking at the Pod level, you could attach Labels/Annotations at the Namespace level, in which case auto-discovered configuration options would apply to all processes running in that Namespace regardless of whether they're in a Deployment, DaemonSet, ReplicaSet, etc.</p></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-221eed32-0f27-d712-f288-a3afccb95415">Configuring Sysdig Agent</a></li><li><a href="#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-6e47f634-1bfa-c26e-dc9f-de074b0789d3">Main Config Parameters</a></li><li><a href="#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-37ea9d54-0eba-bf8b-c5a2-81ca4addd09d">Process Filter</a></li><li><a href="#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-4203d375-facb-00e1-b984-944b6377a2eb">conf</a><ul class="nav"><li><a href="#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-936af1f8-38cb-3e7c-6541-306d7f04b9b0">Authentication Integration</a></li><li><a href="#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-82226a67-2701-9212-b847-98423f386c0e">conf Authentication Example</a></li></ul></li><li><a href="#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-a3930ca7-079b-367e-390d-84ff11b10e02">Kubernetes Objects</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div><div id="email-feedback" class=" toggle-feedback"><p><a href='mailto:docs-feedback@sysdig.com?subject=Feedback for help topic "Configuring Sysdig Agent"&amp;body=%0D%0A_______________________%0D%0A%0D%0A
			
			Please add your feedback above for topic "Configuring Sysdig Agent" in the publication "Staging Sysdig Documentation".'><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon voting-feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="filtering-prometheus-metrics.html#UUID-f81119d9-055c-3438-fa20-4a6c6a642fd4_section-idm456966229512003170006342998">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="configuring-sysdig-agent.html#UUID-221eed32-0f27-d712-f288-a3afccb95415_UUID-6e47f634-1bfa-c26e-dc9f-de074b0789d3">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> Â© 2020 Sysdig </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">2020-03-25</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
