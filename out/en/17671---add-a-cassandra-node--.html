<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>**Add a Cassandra Node**</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5d6593bb1e613.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/hilitor.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="17670-upgrade-replicated-installations.html" title="Upgrade Replicated Installations"></link><link rel="next" href="17672-find-the-super-admin-credentials-and-api-token.html" title="Find the Super Admin Credentials and API Token"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script>
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="17625-sysdig-platform.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7f578b2-c960-970c-a969-10cebb31d199" data-permalink="17625-sysdig-platform.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Platform</a><ul><li><a href="17626-on-premises-deployments.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b0fbda15-008f-f5ef-e82b-44edcdbddf2f" data-permalink="17626-on-premises-deployments.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> On-Premises Deployments</a><ul><li><a href="17627-architecture---system-requirements.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cd539f11-f1ce-b46c-2e31-33817e7fbcfe" data-permalink="17627-architecture---system-requirements.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Architecture &amp; System Requirements</a></li><li><a href="17636-on-premises-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-f3f2b80c-ab17-0417-e900-5e28acb4e13d" data-permalink="17636-on-premises-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Installation</a></li><li><a href="17660-on-premises-upgrades.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-56e8e98a-2ab4-6b39-ba6e-35eee1e169cc" data-permalink="17660-on-premises-upgrades.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Upgrades</a></li><li><a href="17672-find-the-super-admin-credentials-and-api-token.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cb40fc4f-b85a-8739-4a4e-0a9009419723" data-permalink="17672-find-the-super-admin-credentials-and-api-token.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find the Super Admin Credentials and API Token</a></li><li><a href="17674-upgrade-an-on-premises-license.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ec730506-5804-f830-4a75-644e44406dff" data-permalink="17674-upgrade-an-on-premises-license.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Upgrade an On-Premises License</a></li><li><a href="17675-securing-elasticsearch.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e5a2a6fa-12cf-e145-8643-4d17b5e5e809" data-permalink="17675-securing-elasticsearch.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Elasticsearch</a></li><li><a href="17677-securing-cassandra.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e0ca8e47-108a-cdd2-9661-7a7a53b9da47" data-permalink="17677-securing-cassandra.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Cassandra</a></li><li><a href="17678-authentication-and-authorization--on-prem-options-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-059259c5-41cc-52f1-27db-8692bce591a4" data-permalink="17678-authentication-and-authorization--on-prem-options-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (On-Prem Options)</a></li><li><a href="17700---backup-and-restore-best-practices--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-86ef3d03-037d-7aac-2390-c43096ed0cde" data-permalink="17700---backup-and-restore-best-practices--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Backup and Restore Best Practices**</a></li></ul></li><li><a href="17701-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ee770b85-3c82-28cf-48e0-a38a6f973bc1" data-permalink="17701-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Agent</a><ul><li><a href="17703-host-requirements-for-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-813a9695-5e30-e72f-2e2c-26c84ddecb33" data-permalink="17703-host-requirements-for-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Host Requirements for Agent Installation</a></li><li><a href="17705-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1bbdf1e4-3277-cf2c-d247-de7a1d067e70" data-permalink="17705-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation</a></li><li><a href="17720-agent-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5595fb10-5c8e-1d38-1652-275b75d701cf" data-permalink="17720-agent-configuration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Configuration</a></li><li><a href="17740-agent-upgrade.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a2991ad8-39da-4686-6ca1-d0838e93e523" data-permalink="17740-agent-upgrade.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Upgrade</a></li><li><a href="17741---agent-stop---start---disable---remove.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-34276f78-88ad-274e-0736-c6ccf91b5aaa" data-permalink="17741---agent-stop---start---disable---remove.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Agent Stop | Start | Disable | Remove</a></li><li><a href="17742-agent-uninstall.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ead96597-570b-8e87-7eef-ce217e0b7b3b" data-permalink="17742-agent-uninstall.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Uninstall</a></li><li><a href="17744-troubleshooting-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4c9eb77e-478d-6fe5-84d3-3e8f86cd8cb7" data-permalink="17744-troubleshooting-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Troubleshooting Agent Installation</a></li><li><a href="17745---copy-of-host-requirements-for-agent-installation--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5fed75f2-49db-93e2-69e1-12a3100c50c6" data-permalink="17745---copy-of-host-requirements-for-agent-installation--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Host Requirements for Agent Installation**</a></li></ul></li><li><a href="17746-administration-settings.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-79535d85-dcdb-4dfd-1b55-de1edacb346d" data-permalink="17746-administration-settings.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Administration Settings</a><ul><li><a href="17748-user-profile-and-password.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-07096ea3-1ed7-934f-683e-9d0000edc6f7" data-permalink="17748-user-profile-and-password.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User Profile and Password</a></li><li><a href="17750-user-and-team-administration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c24fe2df-c073-159f-5ad6-cd18bc15c2d3" data-permalink="17750-user-and-team-administration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User and Team Administration</a></li><li><a href="17755-notifications-management.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-156d27b4-e0d2-ec69-bac9-5ec0500ca128" data-permalink="17755-notifications-management.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Notifications Management</a></li><li><a href="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6d00fdd3-1f49-e49e-bb0b-556c377d07ac" data-permalink="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">AWS: Integrate AWS Account and CloudWatch Metrics (Optional)</a></li><li><a href="17771-storage--configure-aws-capture-file-storage--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7ff24b5-cfc5-ac9d-767d-ef7dc9d2d9c5" data-permalink="17771-storage--configure-aws-capture-file-storage--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Storage: Configure AWS Capture File Storage (Optional)</a></li><li><a href="17772-find-your-customer-number.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-703bf9f7-20e0-a6e2-cecc-f5a66cbcd977" data-permalink="17772-find-your-customer-number.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find Your Customer Number</a></li><li><a href="17774-agent-installation--overview-and-key.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2d64062a-c3ab-484f-5b45-3b0ef8b3b5b8" data-permalink="17774-agent-installation--overview-and-key.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation: Overview and Key</a></li><li><a href="17775-subscription--change-number-of-licensed-agents.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5d8a57ce-6bd9-b5f6-6460-17b233e4facc" data-permalink="17775-subscription--change-number-of-licensed-agents.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Subscription: Change Number of Licensed Agents</a></li><li><a href="17779-authentication-and-authorization--saas-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-91fa12e3-2fc9-97ab-1bf8-6d9830e4ad84" data-permalink="17779-authentication-and-authorization--saas-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (SaaS)</a></li></ul></li><li><a href="17794-get-help---using-sysdig-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-712b3b75-2584-30e3-5bd9-e1e57d3d8756" data-permalink="17794-get-help---using-sysdig-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Get Help | Using Sysdig Support</a><ul><li><a href="17795-self-help.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-39aa92d8-58c3-29d4-582f-4561a368c52f" data-permalink="17795-self-help.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Self-Help</a></li><li><a href="17797-contact-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-65fd6b5e-1ab7-6714-888b-95192ae78a5d" data-permalink="17797-contact-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Contact Support</a></li><li><a href="17802-terms-of-use.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b854f38e-12bc-b1af-1c03-372f7a4234d1" data-permalink="17802-terms-of-use.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Terms of Use</a></li></ul></li></ul></li></ul></aside><div class="site-content"><h1 class="publication-title">SP (Sysdig Platform)</h1><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17670-upgrade-replicated-installations.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17672-find-the-super-admin-credentials-and-api-token.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <span class="current-category">SP (Sysdig Platform)</span></li><li class="breadcrumb-link"><a href="17625-sysdig-platform.html">Sysdig Platform</a></li><li class="breadcrumb-link"><a href="17626-on-premises-deployments.html">On-Premises Deployments</a></li><li class="breadcrumb-link"><a href="17660-on-premises-upgrades.html">On-Premises Upgrades</a></li><li class="breadcrumb-node">**Add a Cassandra Node**</li></ul></div><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-00baa038-e31a-a728-8353-61e4c4187817" data-permalink="17671---add-a-cassandra-node--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">**Add a Cassandra Node**</h1></div></div></div><p>&lt;Add intro&gt;</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="17671---add-a-cassandra-node--.html#UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-ReplicatedInstructions" title="Replicated Instructions">Replicated Instructions </a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <a class="link" href="17671---add-a-cassandra-node--.html#UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-AddaNodetotheCluster" title="Add a Node to the Cluster">Add a Node to the Cluster</a> </p></li><li class="listitem"><p> <a class="link" href="17671---add-a-cassandra-node--.html#UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-RestarttheSysdigApplication" title="Restart the Sysdig Application">Restart the Sysdig Application </a> </p></li><li class="listitem"><p> <a class="link" href="17671---add-a-cassandra-node--.html#UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-MonitortheNewNodeJoiningtheCluster" title="Monitor the New Node Joining the Cluster">Monitor the New Node Joining the Cluster </a> </p></li><li class="listitem"><p> <a class="link" href="17671---add-a-cassandra-node--.html#UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-CleanUptheOldNodes" title="Clean Up the Old Nodes">Clean Up the Old Nodes </a> </p></li><li class="listitem"><p> Optional: Change the Data Replication Factor (??)  </p></li></ul></div></li><li class="listitem"><p> <a class="link" href="17671---add-a-cassandra-node--.html#UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-KubernetesInstructions" title="Kubernetes Instructions">Kubernetes Instructions </a> </p></li></ul></div><h6 id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-ReplicatedInstructions" class="bridgehead">Replicated Instructions</h6><h6 id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-AddaNodetotheCluster" class="bridgehead">Add a Node to the Cluster</h6><h6 id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-RestarttheSysdigApplication" class="bridgehead">Restart the Sysdig Application</h6><h6 id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-MonitortheNewNodeJoiningtheCluster" class="bridgehead">Monitor the New Node Joining the Cluster</h6><h6 id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-CleanUptheOldNodes" class="bridgehead">Clean Up the Old Nodes</h6><h6 id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-OptionalChangetheDataReplicationFactor" class="bridgehead">Optional: Change the Data Replication Factor (??)</h6><p>&lt;When/why do you do it and is it required? Background info on Cassandra data replication: <a class="link" href="https://docs.datastax.com/en/archived/cassandra/2.1/cassandra/architecture/architectureDataDistributeReplication_c.html" target="_blank">https://docs.datastax.com/en/archived/cassandra/2.1/cassandra/architecture/architectureDataDistributeReplication_c.html</a> </p><h6 id="UUID-7627235e-9d7a-d34a-982b-c1adc191eb61_id_id-AddaCassandraNode-KubernetesInstructions" class="bridgehead">Kubernetes Instructions</h6><p>TBD</p><p> <span class="bold bold"><strong>From Zendesk: Adding a New Cassandra Node (Replicated) </strong></span> </p><div class="blockquote"><blockquote class="blockquote"><p>&lt;Original Zendesk (with images): <a class="link" href="https://support.sysdig.com/hc/en-us/articles/115000269603-Adding-a-New-Cassandra-Node" target="_blank">https://support.sysdig.com/hc/en-us/articles/115000269603-Adding-a-New-Cassandra-Node</a> </p><p>NOTE: The relationship between these instructions and the internal SaaS notes is not at all clear.</p><p>See <a class="link" href="https://sysdig.atlassian.net/wiki/spaces/EN/pages/159875149/Adding+a+Cassandra+Node+SAAS" target="_blank">https://sysdig.atlassian.net/wiki/spaces/EN/pages/159875149/Adding+a+Cassandra+Node+SAAS</a> &gt;</p></blockquote></div><p>This guide will explain how to expand the Cassandra cluster in a Sysdig Monitor multi-server, distributed on-premise installation.</p><p>These steps were first tested with Sysdig Monitor on-premise release 439 and should work with all newer releases.</p><p> <span class="bold bold"><strong>H2: Expanding the Cluster</strong></span> </p><p>Expanding the cluster is performed through the same management server interface that was used for the initial on-premise install procedure.</p><p>Our example environment consists of 6 nodes (hosts/VMs) as seen in the <span class="inlinemediaobject"><img src="image/image-missing.png" alt=""></img></span> tab. The Tags reflect which component(s) are currently configured to run on each node.</p><div class="mediaobject"><img src="image/image-missing.png" style="" alt=""></img></div><p>Assume we’ve provisioned an additional Linux host to be our new Cassandra node. Now click on the <span class="inlinemediaobject"><img src="image/image-missing.png" alt=""></img></span> button.</p><div class="mediaobject"><img src="image/image-missing.png" style="" alt=""></img></div><p>Insert the new host’s Private IP address, Public IP Address (if it has one), and check the box to add the Cassandra Tag. Then login to the new host and execute the provided <span class="bold bold"><strong>curl </strong></span>command line.</p><p>The additional node will now appear in the list.</p><div class="mediaobject"><img src="image/image-missing.png" style="" alt=""></img></div><p>The new node is now initialized, but the Sysdig Monitor application must be restarted in order for Cassandra to begin running on it. To restart, click to the <span class="inlinemediaobject"><img src="image/image-missing.png" alt=""></img></span> tab and click <span class="inlinemediaobject"><img src="image/image-missing.png" alt=""></img></span>. Status messages will indicate services are stopping. Then click <span class="inlinemediaobject"><img src="image/image-missing.png" alt=""></img></span>.</p><div class="mediaobject"><img src="image/image-missing.png" style="" alt=""></img></div><p>As part of the restart, a new Cassandra container is started on the newly-added node and it will join the cluster. The joining operation can be monitored using the <span class="bold bold"><strong>nodetool status</strong></span> command:</p><p> <span class="bold bold"><strong>H3: Status during joining (UJ)</strong></span> </p><p> <code class="code"># docker exec -it &lt;CONTAINER_ID&gt; nodetool status draiosDatacenter: datacenter1 ======================= Status=Up/Down |/ State=Normal/Leaving/Joining/Moving -- Address Load Tokens Owns Host ID Rack UN 10.10.0.117 41.8 MB 256 ? 3c495d49-f311-43f3-9fef-0055f5943f8a rack1 UJ 10.10.0.123 177.32 KB 256 ? 8199bfb4-92b3-4b74-a1ce-90310769d8b8 rack1</code> </p><p> <span class="bold bold"><strong>H3: Status when joined (UN)</strong></span> </p><p> <code class="code"># docker exec -it &lt;CONTAINER_ID&gt; nodetool status draios Datacenter: datacenter1 ======================= Status=Up/Down |/ State=Normal/Leaving/Joining/Moving -- Address Load Tokens Owns (effective) Host ID Rack UN 10.10.0.117 40.39 MB 256 51.2% 3c495d49-f311-43f3-9fef-0055f5943f8a rack1 UN 10.10.0.123 20.12 MB 256 48.8% 8199bfb4-92b3-4b74-a1ce-90310769d8b8 rack1</code> </p><p>Adding a new node to a Cassandra cluster can take a long time depending on how much data is currently stored in the cluster. <span class="bold bold"><strong>Do not stop the application until the new node has finished joining the cluster.</strong></span> </p><p>H3: Cleanup</p><p>Once the joining operation is finished, it is mandatory to perform a cleanup operation on all the old nodes of the cluster. This is performed using <span class="bold bold"><strong>nodetool cleanup</strong></span>:</p><p> <code class="code"># docker exec -it &lt;CONTAINER_ID&gt; bash root@&lt;&gt;:/# nohup nodetool cleanup draios &amp; [1] 470 root@&lt;&gt;:/# nohup: ignoring input and appending output to 'nohup.out' root@&lt;&gt;:/# exit</code> </p><p> <span class="bold bold"><strong>H2: Data Replication Factor</strong></span> </p><p>&lt;Is this required or optional? When/why do you do it?&gt;</p><p>The default Cassandra <a class="link" href="https://docs.datastax.com/en/cassandra/2.1/cassandra/architecture/architectureDataDistributeReplication_c.html" target="_blank">replication factor</a> used by Sysdig Monitor is 1. This was first set under Advanced Settings within the <span class="inlinemediaobject"><img src="image/image-missing.png" alt=""></img></span> tab of the management server interface.</p><div class="mediaobject"><img src="image/image-missing.png" style="" alt=""></img></div><p>It should be noted that changing the replication factor on a running cluster is a rather costly procedure and therefore should be carefully planned. These steps should only be executed by those who understand the underlying Cassandra operations and are comfortable with executing them on your data within appropriately-sized change windows.</p><p> <span class="bold bold"><strong>Always first backup your data by copying the entire contents of the Cassandra data folder </strong></span> <span class="bold bold"><strong>/opt/cassandra-data-volume.</strong></span> </p><p>If you want to increase the replication factor, you need to manually modify the replication factor setting of the <span class="bold bold"><strong>draios</strong></span> Keyspace in the Cassandra cluster. To do so, pick any node in the Cassandra cluster and execute the following commands to review and then change the replication factor setting (from 1 to 2 in this example):</p><p> <code class="code"># docker exec -it &lt;CONTAINER_ID&gt; bash root@&lt;&gt;:/# cqlsh cqlsh&gt; DESCRIBE KEYSPACE draios ; CREATE KEYSPACE draios WITH replication = {'class': 'SimpleStrategy', 'replication_factor': '1'} AND durable_writes = true; …. cqlsh&gt; ALTER KEYSPACE draios WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 2 }; cqlsh&gt; quit</code> </p><p>Modify the Cassandra replication factor in the Advanced Settings of the Sysdig Monitor management server interface to match this new setting (2 in this case). Saving the new setting will trigger a restart of the application.</p><p>Once restart has completed, perform the Cassandra repair operation on the cluster, one node at a time:</p><p> <code class="code">root@&lt;&gt;:/# nodetool repair [2017-01-05 14:55:03,614] Starting repair command #1, repairing 512 ranges for keyspace draios (parallelism=SEQUENTIAL, full=true) </code> </p><p> <span class="bold bold"><strong>Perform the repair operation on all the nodes of the cluster. Wait until repair completes on a node, then move on to the next one.</strong></span> </p><p>Note the change in the <span class="bold bold"><strong>Owns </strong></span>column for the <span class="bold bold"><strong>nodetool status</strong></span> output. In our example with two nodes and replication factor of 2, the 100% values are expected.</p><p> <code class="code"># docker exec -it &lt;CONTAINER_ID&gt; nodetool status draios Datacenter: datacenter1 ======================= Status=Up/Down |/ State=Normal/Leaving/Joining/Moving -- Address Load Tokens Owns (effective) Host ID Rack UN 192.168.15.5 12.92 MB 256 100.0% dca3e7f8-fa0b-4de1-8562-c4150121f8c7 rack1 UN 192.168.15.6 12.92 MB 256 100.0% d8ea6d81-c7aa-4d49-8ea0-1fac2e136a5c rack1</code> </p></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17670-upgrade-replicated-installations.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17672-find-the-super-admin-credentials-and-api-token.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2019 Sysdig </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
