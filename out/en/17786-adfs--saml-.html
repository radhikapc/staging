<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>ADFS (SAML)</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5d6593bb1e613.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/hilitor.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="17785-onelogin--saml-.html" title="OneLogin (SAML)"></link><link rel="next" href="17787-test-metadata_common.html" title="Test Metadata_Common"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script>
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="17625-sysdig-platform.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7f578b2-c960-970c-a969-10cebb31d199" data-permalink="17625-sysdig-platform.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Platform</a><ul><li><a href="17626-on-premises-deployments.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b0fbda15-008f-f5ef-e82b-44edcdbddf2f" data-permalink="17626-on-premises-deployments.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> On-Premises Deployments</a><ul><li><a href="17627-architecture---system-requirements.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cd539f11-f1ce-b46c-2e31-33817e7fbcfe" data-permalink="17627-architecture---system-requirements.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Architecture &amp; System Requirements</a></li><li><a href="17636-on-premises-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-f3f2b80c-ab17-0417-e900-5e28acb4e13d" data-permalink="17636-on-premises-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Installation</a></li><li><a href="17660-on-premises-upgrades.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-56e8e98a-2ab4-6b39-ba6e-35eee1e169cc" data-permalink="17660-on-premises-upgrades.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Upgrades</a></li><li><a href="17672-find-the-super-admin-credentials-and-api-token.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cb40fc4f-b85a-8739-4a4e-0a9009419723" data-permalink="17672-find-the-super-admin-credentials-and-api-token.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find the Super Admin Credentials and API Token</a></li><li><a href="17674-upgrade-an-on-premises-license.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ec730506-5804-f830-4a75-644e44406dff" data-permalink="17674-upgrade-an-on-premises-license.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Upgrade an On-Premises License</a></li><li><a href="17675-securing-elasticsearch.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e5a2a6fa-12cf-e145-8643-4d17b5e5e809" data-permalink="17675-securing-elasticsearch.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Elasticsearch</a></li><li><a href="17677-securing-cassandra.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e0ca8e47-108a-cdd2-9661-7a7a53b9da47" data-permalink="17677-securing-cassandra.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Cassandra</a></li><li><a href="17678-authentication-and-authorization--on-prem-options-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-059259c5-41cc-52f1-27db-8692bce591a4" data-permalink="17678-authentication-and-authorization--on-prem-options-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (On-Prem Options)</a></li><li><a href="17700---backup-and-restore-best-practices--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-86ef3d03-037d-7aac-2390-c43096ed0cde" data-permalink="17700---backup-and-restore-best-practices--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Backup and Restore Best Practices**</a></li></ul></li><li><a href="17701-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ee770b85-3c82-28cf-48e0-a38a6f973bc1" data-permalink="17701-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Agent</a><ul><li><a href="17703-host-requirements-for-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-813a9695-5e30-e72f-2e2c-26c84ddecb33" data-permalink="17703-host-requirements-for-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Host Requirements for Agent Installation</a></li><li><a href="17705-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1bbdf1e4-3277-cf2c-d247-de7a1d067e70" data-permalink="17705-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation</a></li><li><a href="17720-agent-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5595fb10-5c8e-1d38-1652-275b75d701cf" data-permalink="17720-agent-configuration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Configuration</a></li><li><a href="17740-agent-upgrade.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a2991ad8-39da-4686-6ca1-d0838e93e523" data-permalink="17740-agent-upgrade.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Upgrade</a></li><li><a href="17741---agent-stop---start---disable---remove.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-34276f78-88ad-274e-0736-c6ccf91b5aaa" data-permalink="17741---agent-stop---start---disable---remove.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Agent Stop | Start | Disable | Remove</a></li><li><a href="17742-agent-uninstall.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ead96597-570b-8e87-7eef-ce217e0b7b3b" data-permalink="17742-agent-uninstall.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Uninstall</a></li><li><a href="17744-troubleshooting-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4c9eb77e-478d-6fe5-84d3-3e8f86cd8cb7" data-permalink="17744-troubleshooting-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Troubleshooting Agent Installation</a></li><li><a href="17745---copy-of-host-requirements-for-agent-installation--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5fed75f2-49db-93e2-69e1-12a3100c50c6" data-permalink="17745---copy-of-host-requirements-for-agent-installation--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Host Requirements for Agent Installation**</a></li></ul></li><li><a href="17746-administration-settings.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-79535d85-dcdb-4dfd-1b55-de1edacb346d" data-permalink="17746-administration-settings.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Administration Settings</a><ul><li><a href="17748-user-profile-and-password.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-07096ea3-1ed7-934f-683e-9d0000edc6f7" data-permalink="17748-user-profile-and-password.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User Profile and Password</a></li><li><a href="17750-user-and-team-administration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c24fe2df-c073-159f-5ad6-cd18bc15c2d3" data-permalink="17750-user-and-team-administration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User and Team Administration</a></li><li><a href="17755-notifications-management.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-156d27b4-e0d2-ec69-bac9-5ec0500ca128" data-permalink="17755-notifications-management.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Notifications Management</a></li><li><a href="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6d00fdd3-1f49-e49e-bb0b-556c377d07ac" data-permalink="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">AWS: Integrate AWS Account and CloudWatch Metrics (Optional)</a></li><li><a href="17771-storage--configure-aws-capture-file-storage--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7ff24b5-cfc5-ac9d-767d-ef7dc9d2d9c5" data-permalink="17771-storage--configure-aws-capture-file-storage--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Storage: Configure AWS Capture File Storage (Optional)</a></li><li><a href="17772-find-your-customer-number.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-703bf9f7-20e0-a6e2-cecc-f5a66cbcd977" data-permalink="17772-find-your-customer-number.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find Your Customer Number</a></li><li><a href="17774-agent-installation--overview-and-key.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2d64062a-c3ab-484f-5b45-3b0ef8b3b5b8" data-permalink="17774-agent-installation--overview-and-key.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation: Overview and Key</a></li><li><a href="17775-subscription--change-number-of-licensed-agents.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5d8a57ce-6bd9-b5f6-6460-17b233e4facc" data-permalink="17775-subscription--change-number-of-licensed-agents.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Subscription: Change Number of Licensed Agents</a></li><li><a href="17779-authentication-and-authorization--saas-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-91fa12e3-2fc9-97ab-1bf8-6d9830e4ad84" data-permalink="17779-authentication-and-authorization--saas-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (SaaS)</a></li></ul></li><li><a href="17794-get-help---using-sysdig-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-712b3b75-2584-30e3-5bd9-e1e57d3d8756" data-permalink="17794-get-help---using-sysdig-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Get Help | Using Sysdig Support</a><ul><li><a href="17795-self-help.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-39aa92d8-58c3-29d4-582f-4561a368c52f" data-permalink="17795-self-help.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Self-Help</a></li><li><a href="17797-contact-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-65fd6b5e-1ab7-6714-888b-95192ae78a5d" data-permalink="17797-contact-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Contact Support</a></li><li><a href="17802-terms-of-use.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b854f38e-12bc-b1af-1c03-372f7a4234d1" data-permalink="17802-terms-of-use.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Terms of Use</a></li></ul></li></ul></li></ul></aside><div class="site-content"><h1 class="publication-title">SP (Sysdig Platform)</h1><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17785-onelogin--saml-.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17787-test-metadata_common.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <span class="current-category">SP (Sysdig Platform)</span></li><li class="breadcrumb-link"><a href="17625-sysdig-platform.html">Sysdig Platform</a></li><li class="breadcrumb-link"><a href="17746-administration-settings.html">Administration Settings</a></li><li class="breadcrumb-link"><a href="17779-authentication-and-authorization--saas-.html">Authentication and Authorization (SaaS)</a></li><li class="breadcrumb-link"><a href="17782-saml--saas-.html">SAML (SaaS)</a></li><li class="breadcrumb-node">ADFS (SAML)</li></ul></div><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-e843697b-ceab-44b0-7376-c5d4f185b1e8" data-permalink="17786-adfs--saml-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-c099c73b-d5d2-9a27-065c-296cefd6e6c9"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">ADFS (SAML)</h1></div></div></div><p>Review <a class="link" href="17782-saml--saas-.html" title="SAML (SaaS)">SAML (SaaS)</a> before you begin.</p><p>These instructions assume you already have a working, Internet-accessible ADFS server. Interoperability testing has been performed specifically with ADFS on Windows Server 2012 R2.</p><p>Follow the instructions below to configure ADFS with the <span class="bold bold"><strong>ADFS Management</strong></span> tool in the Windows Server Manager.</p><h7 id="UUID-c099c73b-d5d2-9a27-065c-296cefd6e6c9_id_ADFSSAML-ForService-Provider-InitiatedLoginFlow" class="bridgehead">For Service-Provider-Initiated Login Flow</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Right-click to <span class="bold bold"><strong>Service &gt; Edit Federation Service Properties</strong></span>. Note the hostname in the Federation Service Identifier, as this will be used in the metadata URL that you paste in the Metadata entry on the SAML Configuration page in the <a class="link" href="">Sysdig Authentication Settings</a>. Specifically, the metadata URL will be of the format <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://HOSTNAME/FederationMetadata/2007-06/FederationMetadata.xml" target="_blank">https://HOSTNAME/FederationMetadata/2007-06/FederationMetadata.xml</a> </code> </strong></span>. Also, so that the Sysdig platform can access this URL directly, this host must resolve in DNS and have a valid (<span class="italic italic">not</span> self-signed) SSL/TLS certificate.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="649px"><tr><td><img src="image/uuid-c58d57d1-746d-2c3a-19f5-e66896b58068-en.png" style="max-width: 649px; " alt="373576210.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="350px"><tr><td><img src="image/uuid-87dcf075-21be-96d4-c8dd-4050a3045832-en.png" style="max-width: 350px; " alt="373576203.png"></img></td></tr></table></div></li><li class="step"><p>Add a Relying Party Trust configuration for the Sysdig application</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Right-click to <span class="bold bold"><strong>Relying Party Trusts &gt; Add Relying Party Trust</strong></span> and click <span class="bold bold"><strong>Start</strong></span> to begin the wizard.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-90479a73-05ac-79ea-01e3-70688567a52b-en.png" style="max-width: 599px; " alt="373576196.png"></img></td></tr></table></div></li><li class="step"><p>In the <span class="bold bold"><strong>Select Data Source</strong></span> step, click the button to <span class="bold bold"><strong>Enter data about the relying party manually</strong></span>, then click<span class="bold bold"><strong> Next</strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-73899b32-0743-c665-1ff5-1c45417782f2-en.png" style="max-width: 599px; " alt="373576189.png"></img></td></tr></table></div></li><li class="step"><p>Enter a <span class="bold bold"><strong>Display name</strong></span> of your choosing (e.g. "Sysdig Monitor" or "Sysdig Secure"), then click <span class="bold bold"><strong>Next</strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="600px"><tr><td><img src="image/uuid-c9c38f19-0ab5-ff27-6646-4453a2be8056-en.png" style="max-width: 600px; " alt="373576182.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="bold bold"><strong>Next</strong></span> to accept the default option to use <span class="bold bold"><strong>AD FS profile</strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-28b17baa-4515-6533-3925-d7277f12438f-en.png" style="max-width: 599px; " alt="373576175.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="bold bold"><strong>Next</strong></span> to skip the selection of an optional token encryption certificate (Sysdig does not support this option)</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-6d8d202e-23eb-3350-22ab-f1d35aa0545d-en.png" style="max-width: 599px; " alt="373576168.png"></img></td></tr></table></div></li><li class="step"><p>Check the box to <span class="bold bold"><strong>Enable support for the SAML 2.0 Web SSO protocol</strong></span>, then enter one of the following values for <span class="bold bold"><strong>Relying party SAML 2.0 SSO service URL</strong></span>:</p><p>If configuring Sysdig Monitor, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://app.sysdigcloud.com/api/saml/auth" target="_blank">https://app.sysdigcloud.com/api/saml/auth</a> </code> </strong></span> </p><p>If configuring Sysdig Secure, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://secure.sysdig.com/api/saml/secureAuth" target="_blank">https://secure.sysdig.com/api/saml/secureAuth</a> </code> </strong></span> </p><p>Then click <span class="bold bold"><strong>Next.</strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-a313a2da-8d19-eddb-5f4b-51267571db1e-en.png" style="max-width: 599px; " alt="373576161.png"></img></td></tr></table></div></li><li class="step"><p>For the <span class="bold bold"><strong>Relying party trust identifier</strong></span>, enter one of the following values:</p><p>If configuring Sysdig Monitor, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://app.sysdigcloud.com" target="_blank">https://app.sysdigcloud.com</a> </code> </strong></span> </p><p>If configuring Sysdig Secure, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://secure.sysdig.com" target="_blank">https://secure.sysdig.com</a> </code> </strong></span> </p><p>Then click <span class="bold bold"><strong>Add</strong></span>, then click <span class="bold bold"><strong>Next</strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-7f9428ac-2215-caa7-ca53-477f34c7b81f-en.png" style="max-width: 599px; " alt="373576154.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="bold bold"><strong>Next</strong></span> to skip configuration of multi-factor authentication</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-9489f433-a629-2ce3-4f52-6f1381c51d31-en.png" style="max-width: 599px; " alt="373576140.png"></img></td></tr></table></div></li><li class="step"><p>Choose a policy for whether users will be permitted to login to the Sysdig application. The default to <span class="bold bold"><strong>Permit all users to access the relying party</strong></span> will typically be acceptable. Click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-3ee289a2-7d53-f9c8-7311-0c562023fc8d-en.png" style="max-width: 599px; " alt="373576133.png"></img></td></tr></table></div></li><li class="step"><p>Review the summary and click <span class="bold bold"><strong>Next</strong></span> to complete the configuration of the Relying Party Trust</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-e5ba7d9a-8574-346e-26b0-46581297bbcd-en.png" style="max-width: 599px; " alt="373576126.png"></img></td></tr></table></div></li><li class="step"><p>The next step will involve adding Claim Rules, so you can leave the box checked to <span class="bold bold"><strong>Open the Edit Claim Rules dialog</strong></span> and click the <span class="bold bold"><strong>Close</strong></span> button to be brought immediately into the Claim Rules editor</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="600px"><tr><td><img src="image/uuid-fe28c246-1893-f512-a1b6-0a33fc9163cd-en.png" style="max-width: 600px; " alt="373576119.png"></img></td></tr></table></div></li></ol></div></li><li class="step"><p>Next we'll use Claim Rules to ensure that login data is sent as needed to the Sysdig platform. A user's login to the Sysdig platform is based on an email address, and a default ADFS configuration would not send the email address as required. The following configuration ensures the correct field from Active Directory is delivered in the claim.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>If not already in the Claim Rules editor from the previous step, navigate to it by right-clicking on the Relying Party Trust that was just created and selecting <span class="bold bold"><strong>Edit Claim Rules</strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="600px"><tr><td><img src="image/uuid-c491de7a-7039-22d4-b61a-70ab06bf3e6e-en.png" style="max-width: 600px; " alt="373576112.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="340px"><tr><td><img src="image/uuid-7ebdb439-64ba-8046-dd2e-915ca898838a-en.png" style="max-width: 340px; " alt="373576105.png"></img></td></tr></table></div></li><li class="step"><p>Click <span class="bold bold"><strong>Add Rule</strong></span>. At the following screen, accept the default rule template to <span class="bold bold"><strong>Send LDAP Attributes as Claims</strong></span> and click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-fccfd4e5-6785-47f0-afd3-4484c56674f4-en.png" style="max-width: 599px; " alt="373576098.png"></img></td></tr></table></div></li><li class="step"><p>Enter a name for the rule, select <span class="bold bold"><strong>Active Directory</strong></span> as the <span class="bold bold"><strong>Attribute store</strong></span>, then use the pull-down selectors to pick <span class="bold bold"><strong>E-Mail Address</strong></span> as both the <span class="bold bold"><strong>LDAP Attribute</strong></span> and <span class="bold bold"><strong>Outgoing Claim Type</strong></span>, then similarly make pull-down selections for <span class="bold bold"><strong>Given Name</strong></span> and <span class="bold bold"><strong>Surname</strong></span>. Once these selections are made, click <span class="bold bold"><strong>Finish</strong></span>.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="558px"><tr><td><img src="image/uuid-9392a6ca-14dc-bcd4-1076-1ad693083af2-en.png" style="max-width: 558px; " alt="373576091.png"></img></td></tr></table></div></li><li class="step"><p>Now click <span class="bold bold"><strong>Add Rule</strong></span> again, this time selecting the template for <span class="bold bold"><strong>Transform an incoming claim</strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-9a10a931-543b-4dd4-9ccc-ee462c590d23-en.png" style="max-width: 599px; " alt="373576084.png"></img></td></tr></table></div></li><li class="step"><p>Enter a name for the rule, then use the pull-downs to select an <span class="bold bold"><strong>Incoming claim type</strong></span> of <span class="bold bold"><strong>E-Mail Address</strong></span>, an <span class="bold bold"><strong>Outgoing claim type</strong></span> of <span class="bold bold"><strong>Name ID</strong></span>, and an <span class="bold bold"><strong>Outgoing name ID format</strong></span> of <span class="bold bold"><strong>Email</strong></span>, then click <span class="bold bold"><strong>Finish</strong></span>.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="600px"><tr><td><img src="image/uuid-7e3c281e-6f22-2f6e-f57d-f1c6d81bd058-en.png" style="max-width: 600px; " alt="373576077.png"></img></td></tr></table></div></li><li class="step"><p>(Optional) If you want the user's First Name and Last Name to be included in the records created in the Sysdig platform database when new users successfully login via SAML for the first time, additional Transform rules must also be created. Only the email-based username is strictly required and we already created a rule for this, so this step is optional.</p><p>If you wish to do this, click <span class="bold bold"><strong>Add Rule</strong></span> and once again select the template for <span class="bold bold"><strong>Transform an incoming claim</strong></span>. Enter a name for the rule, then use the pull-down to select an <span class="bold bold"><strong>Incoming claim type</strong></span> of <span class="bold bold"><strong>Given Name</strong></span>, and for the <span class="bold bold"><strong>Outgoing claim type</strong></span>, directly type <span class="bold bold"><strong>first name</strong></span> into the field. After clicking <span class="bold bold"><strong>Finish</strong></span>, click <span class="bold bold"><strong>Add Rule</strong></span> and create a similar rule to transform the <span class="bold bold"><strong>Incoming claim type</strong></span> of <span class="bold bold"><strong>Surname</strong></span> to the <span class="bold bold"><strong>Outgoing claim type</strong></span> of <span class="bold bold"><strong>last name</strong></span>.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="599px"><tr><td><img src="image/uuid-1feabdff-8ecb-d83e-f7a0-deb7ffe62835-en.png" style="max-width: 599px; " alt="373576070.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="600px"><tr><td><img src="image/uuid-a9c7e38f-9646-db70-67b5-bbdfc6565a24-en.png" style="max-width: 600px; " alt="373576063.png"></img></td></tr></table></div></li><li class="step"><p>Having clicked <span class="bold bold"><strong>Finish</strong></span> after creating your last rule, you will see all rules now in the editor. You can click <span class="bold bold"><strong>Ok</strong></span>, and your ADFS configuration for your Sysdig application is complete. It can be tested once Sysdig Support has completed their side of the configuration using the metadata URL you send in your Support request.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="509px"><tr><td><img src="image/uuid-7da10cf9-0cda-f7b4-b9eb-5fecefe34e7f-en.png" style="max-width: 509px; " alt="373576056.png"></img></td></tr></table></div></li></ol></div></li></ol></div><h7 id="UUID-c099c73b-d5d2-9a27-065c-296cefd6e6c9_id_ADFSSAML-ForIdP-InitiatedLoginFlowOptional" class="bridgehead">For IdP-Initiated Login Flow (Optional)</h7><p>(Optional) The steps above represent a <span class="bold bold"><strong>Service-Provider-Initiated SAML</strong></span> configuration. If you would prefer an <span class="bold bold"><strong>IdP-initiated SAML</strong></span> configuration, this is also possible with ADFS, but requires the additional steps described below.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>The Sysdig platform requires a specific setting of RelayState in order to accept IdP-initiated login flows. On the ADFS versions tested, we've found this use of RelayState is disabled by default, and <a class="link" href="https://blogs.technet.microsoft.com/askds/2012/09/27/ad-fs-2-0-relaystate/" target="_blank">a Microsoft article</a> describes the topic in detail. To enable it, as described in <a class="link" href="https://social.msdn.microsoft.com/Forums/en-US/25239ff7-a33d-4f3e-a7a8-5a3c47d733f7/relaystate-support-in-adfs-30?forum=Geneva" target="_blank">a Microsoft forum thread</a>, on your ADFS host, edit <span class="bold bold"><strong> <code class="code">%systemroot%\ADFS\Microsoft.IdentityServer.Servicehost.exe.config</code> </strong></span> and add <span class="bold bold"><strong> <code class="code">&lt;useRelayStateForIdpInitiatedSignOn enabled="true" /&gt;</code> </strong></span> to the <span class="bold bold"><strong> <code class="code">&lt;microsoft.identityserver.web&gt;</code> </strong></span> section. Once the modification is saved, restart ADFS services for the change to take effect.</p></li><li class="step"><p>You will need to retrieve your Sysdig customer number as described in the <a class="link" href="17772-find-your-customer-number.html" title="Find Your Customer Number">Find Your Customer Number</a> article.</p></li><li class="step"><p>You will then need to generate an IdP-initiated login URL.</p><p>In addition to having the correct settings, it must be properly URL encoded. To ease this configuration, use <a class="link" href="http://jackstromberg.com/adfs-relay-state-generator/" target="_blank">this ADFS RelayState Generator</a> tool. When launched, enter the values below, then hit the <span class="bold bold"><strong>Generate URL</strong></span> button.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For the <span class="bold bold"><strong>IDP URL String</strong></span>, enter <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://YOUR_ADFS_SERVER/adfs/ls/idpinitiatedsignon.aspx" target="_blank">https://YOUR_ADFS_SERVER/adfs/ls/idpinitiatedsignon.aspx</a> </code> </strong></span> </p></li><li class="listitem"><p>For the <span class="bold bold"><strong>Relying Party Identifier</strong></span>, enter one of the following values:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>If configuring Sysdig Monitor, enter <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://app.sysdigcloud.com" target="_blank">https://app.sysdigcloud.com</a> </code> </strong></span> </p></li><li class="listitem"><p>If configuring Sysdig Secure, enter <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://secure.sysdig.com" target="_blank">https://secure.sysdig.com</a> </code> </strong></span> </p></li></ul></div></li><li class="listitem"><p>For the <span class="bold bold"><strong>Relay State/Target App</strong></span>, enter <span class="bold bold"><strong> <code class="code">#/&amp;customer=CUSTOMER-ID-NUMBER</code> </strong></span>, substituting the <span class="bold bold"><strong> <code class="code">CUSTOMER-ID-NUMBER</code> </strong></span> you retrieved in the previous step</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="600px"><tr><td><img src="image/uuid-02eaeccf-5f91-706d-48a9-9ef7cdb45363-en.png" style="max-width: 600px; " alt="373576217.png"></img></td></tr></table></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>This Results URL will be used in the metadata URL that you paste in the Metadata entry in the <a class="link" href="">SAML connection settings</a>.</p></div></li></ul></div></li><li class="step"><p>Use the <span class="bold bold"><strong>Results</strong></span> URL from the tool to test your IdP-initiated login. Note that <a class="link" href="https://social.msdn.microsoft.com/Forums/vstudio/en-US/e40a1035-c048-4434-a35b-f60394b2c18f/is-there-information-on-configuring-idp-initiated-sso-on-adfs-30-?forum=Geneva" target="_blank">per this Microsoft forum thread</a>, it is apparently not possible to configure ADFS to use such a URL when your users select the application from the pull-down menu at <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://YOUR_ADFS_SERVER/adfs/ls/idpinitiatedsignon.aspx" target="_blank">https://YOUR_ADFS_SERVER/adfs/ls/idpinitiatedsignon.aspx</a> </code> </strong></span>. However, you may embed the URL into a custom portal or bookmarks list.</p></li><li class="step"><p>Now you can test login using an Active Directory user that has an Email address configured.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="400px"><tr><td><img src="image/uuid-b359a5e0-ce9e-32e0-2bc8-fc2c48d04051-en.png" style="max-width: 400px; " alt="373576049.png"></img></td></tr></table></div></li></ol></div><h7 id="UUID-c099c73b-d5d2-9a27-065c-296cefd6e6c9_id_ADFSSAML-TestMetadataOptional" class="bridgehead">Test Metadata (Optional)</h7><p>To ensure the metadata URL you copy at the end of the IDP configuration procedure is correct, you can test it by directly accessing it via your browser.</p><p>When accessing the URL, your browser should immediately download an XML file that begins similarly to the example shown below. No entry of credentials or other security measures should be required to successfully download it. If this is not the case, revisit the IDP configuration steps.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows" style="text-align: left;"><tbody><tr><td class="td"><p> <code class="code">&lt;?xml version=</code> <code class="code">"1.0"</code> <code class="code">?&gt;</code> <code class="code">&lt;EntityDescriptor xmlns=</code> <code class="code">"urn:oasis:names:tc:SAML:2.0:metadata"</code> <code class="code">entityID=</code> <code class="code">"<a class="link" href="https://app.onelogin.com/saml/metadata/680358%22" target="_blank">https://app.onelogin.com/saml/metadata/680358"</a> </code> <code class="code">&gt;</code> <code class="code"></code> <code class="code">&lt;IDPSSODescriptor xmlns:ds=</code> <code class="code">"<a class="link" href="">http://www.w3.org/2000/09/xmldsig#"</a> </code> <code class="code">protocolSupportEnumeration=</code> <code class="code">"urn:oasis:names:tc:SAML:2.0:protocol"</code> <code class="code">&gt;names:tc:SAML:</code> <code class="code">2.0</code> <code class="code">:metadata</code> <code class="code">" entityID="</code> <code class="code"> <a class="link" href="https://app.onelogin.com/saml/metadata/" target="_blank">https://app.onelogin.com/saml/metadata/</a> </code> <code class="code">680358</code> <code class="code">"&gt;</code> <code class="code"></code> <code class="code">...</code> </p></td></tr></tbody></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> For Service-Provider-Initiated Login Flow  </p></li><li class="listitem"><p> For IdP-Initiated Login Flow (Optional)  </p></li><li class="listitem"><p> Test Metadata (Optional)  </p></li></ul></div></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17785-onelogin--saml-.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17787-test-metadata_common.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2019 Sysdig </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
