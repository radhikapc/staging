<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Google OAuth (On-Prem)</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5d6593bb1e613.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/hilitor.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="17678-authentication-and-authorization--on-prem-options-.html#UUID-a6838af5-084b-2767-1990-f0fcc15fa720_id_AuthenticationandAuthorizationOn-PremOptions-Workflow" title="Workflow"></link><link rel="next" href="17681-saml--on-prem-.html" title="SAML (On-Prem)"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script>
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="17625-sysdig-platform.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7f578b2-c960-970c-a969-10cebb31d199" data-permalink="17625-sysdig-platform.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Platform</a><ul><li><a href="17626-on-premises-deployments.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b0fbda15-008f-f5ef-e82b-44edcdbddf2f" data-permalink="17626-on-premises-deployments.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> On-Premises Deployments</a><ul><li><a href="17627-architecture---system-requirements.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cd539f11-f1ce-b46c-2e31-33817e7fbcfe" data-permalink="17627-architecture---system-requirements.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Architecture &amp; System Requirements</a></li><li><a href="17636-on-premises-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-f3f2b80c-ab17-0417-e900-5e28acb4e13d" data-permalink="17636-on-premises-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Installation</a></li><li><a href="17660-on-premises-upgrades.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-56e8e98a-2ab4-6b39-ba6e-35eee1e169cc" data-permalink="17660-on-premises-upgrades.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Upgrades</a></li><li><a href="17672-find-the-super-admin-credentials-and-api-token.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cb40fc4f-b85a-8739-4a4e-0a9009419723" data-permalink="17672-find-the-super-admin-credentials-and-api-token.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find the Super Admin Credentials and API Token</a></li><li><a href="17674-upgrade-an-on-premises-license.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ec730506-5804-f830-4a75-644e44406dff" data-permalink="17674-upgrade-an-on-premises-license.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Upgrade an On-Premises License</a></li><li><a href="17675-securing-elasticsearch.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e5a2a6fa-12cf-e145-8643-4d17b5e5e809" data-permalink="17675-securing-elasticsearch.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Elasticsearch</a></li><li><a href="17677-securing-cassandra.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e0ca8e47-108a-cdd2-9661-7a7a53b9da47" data-permalink="17677-securing-cassandra.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Cassandra</a></li><li><a href="17678-authentication-and-authorization--on-prem-options-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-059259c5-41cc-52f1-27db-8692bce591a4" data-permalink="17678-authentication-and-authorization--on-prem-options-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (On-Prem Options)</a></li><li><a href="17700---backup-and-restore-best-practices--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-86ef3d03-037d-7aac-2390-c43096ed0cde" data-permalink="17700---backup-and-restore-best-practices--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Backup and Restore Best Practices**</a></li></ul></li><li><a href="17701-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ee770b85-3c82-28cf-48e0-a38a6f973bc1" data-permalink="17701-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Agent</a><ul><li><a href="17703-host-requirements-for-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-813a9695-5e30-e72f-2e2c-26c84ddecb33" data-permalink="17703-host-requirements-for-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Host Requirements for Agent Installation</a></li><li><a href="17705-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1bbdf1e4-3277-cf2c-d247-de7a1d067e70" data-permalink="17705-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation</a></li><li><a href="17720-agent-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5595fb10-5c8e-1d38-1652-275b75d701cf" data-permalink="17720-agent-configuration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Configuration</a></li><li><a href="17740-agent-upgrade.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a2991ad8-39da-4686-6ca1-d0838e93e523" data-permalink="17740-agent-upgrade.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Upgrade</a></li><li><a href="17741---agent-stop---start---disable---remove.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-34276f78-88ad-274e-0736-c6ccf91b5aaa" data-permalink="17741---agent-stop---start---disable---remove.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Agent Stop | Start | Disable | Remove</a></li><li><a href="17742-agent-uninstall.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ead96597-570b-8e87-7eef-ce217e0b7b3b" data-permalink="17742-agent-uninstall.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Uninstall</a></li><li><a href="17744-troubleshooting-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4c9eb77e-478d-6fe5-84d3-3e8f86cd8cb7" data-permalink="17744-troubleshooting-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Troubleshooting Agent Installation</a></li><li><a href="17745---copy-of-host-requirements-for-agent-installation--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5fed75f2-49db-93e2-69e1-12a3100c50c6" data-permalink="17745---copy-of-host-requirements-for-agent-installation--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Host Requirements for Agent Installation**</a></li></ul></li><li><a href="17746-administration-settings.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-79535d85-dcdb-4dfd-1b55-de1edacb346d" data-permalink="17746-administration-settings.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Administration Settings</a><ul><li><a href="17748-user-profile-and-password.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-07096ea3-1ed7-934f-683e-9d0000edc6f7" data-permalink="17748-user-profile-and-password.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User Profile and Password</a></li><li><a href="17750-user-and-team-administration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c24fe2df-c073-159f-5ad6-cd18bc15c2d3" data-permalink="17750-user-and-team-administration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User and Team Administration</a></li><li><a href="17755-notifications-management.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-156d27b4-e0d2-ec69-bac9-5ec0500ca128" data-permalink="17755-notifications-management.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Notifications Management</a></li><li><a href="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6d00fdd3-1f49-e49e-bb0b-556c377d07ac" data-permalink="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">AWS: Integrate AWS Account and CloudWatch Metrics (Optional)</a></li><li><a href="17771-storage--configure-aws-capture-file-storage--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7ff24b5-cfc5-ac9d-767d-ef7dc9d2d9c5" data-permalink="17771-storage--configure-aws-capture-file-storage--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Storage: Configure AWS Capture File Storage (Optional)</a></li><li><a href="17772-find-your-customer-number.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-703bf9f7-20e0-a6e2-cecc-f5a66cbcd977" data-permalink="17772-find-your-customer-number.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find Your Customer Number</a></li><li><a href="17774-agent-installation--overview-and-key.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2d64062a-c3ab-484f-5b45-3b0ef8b3b5b8" data-permalink="17774-agent-installation--overview-and-key.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation: Overview and Key</a></li><li><a href="17775-subscription--change-number-of-licensed-agents.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5d8a57ce-6bd9-b5f6-6460-17b233e4facc" data-permalink="17775-subscription--change-number-of-licensed-agents.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Subscription: Change Number of Licensed Agents</a></li><li><a href="17779-authentication-and-authorization--saas-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-91fa12e3-2fc9-97ab-1bf8-6d9830e4ad84" data-permalink="17779-authentication-and-authorization--saas-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (SaaS)</a></li></ul></li><li><a href="17794-get-help---using-sysdig-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-712b3b75-2584-30e3-5bd9-e1e57d3d8756" data-permalink="17794-get-help---using-sysdig-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Get Help | Using Sysdig Support</a><ul><li><a href="17795-self-help.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-39aa92d8-58c3-29d4-582f-4561a368c52f" data-permalink="17795-self-help.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Self-Help</a></li><li><a href="17797-contact-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-65fd6b5e-1ab7-6714-888b-95192ae78a5d" data-permalink="17797-contact-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Contact Support</a></li><li><a href="17802-terms-of-use.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b854f38e-12bc-b1af-1c03-372f7a4234d1" data-permalink="17802-terms-of-use.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Terms of Use</a></li></ul></li></ul></li></ul></aside><div class="site-content"><h1 class="publication-title">SP (Sysdig Platform)</h1><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17678-authentication-and-authorization--on-prem-options-.html#UUID-a6838af5-084b-2767-1990-f0fcc15fa720_id_AuthenticationandAuthorizationOn-PremOptions-Workflow">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17681-saml--on-prem-.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <span class="current-category">SP (Sysdig Platform)</span></li><li class="breadcrumb-link"><a href="17625-sysdig-platform.html">Sysdig Platform</a></li><li class="breadcrumb-link"><a href="17626-on-premises-deployments.html">On-Premises Deployments</a></li><li class="breadcrumb-link"><a href="17678-authentication-and-authorization--on-prem-options-.html">Authentication and Authorization (On-Prem Options)</a></li><li class="breadcrumb-node">Google OAuth (On-Prem)</li></ul></div><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-b09e99a9-9741-3a9f-4624-e0f9845a6731" data-permalink="17679-google-oauth--on-prem-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-75a13b23-2396-d5df-9111-385ec8054322"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Google OAuth (On-Prem)</h1></div></div></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>These instructions are specific to <a class="link" href="17626-on-premises-deployments.html" title="On-Premises Deployments">On-Premises Deployments</a> of the Sysdig platform. If you are using the cloud-based (SaaS) Sysdig platform, refer to <a class="link" href="17780-google-oauth--saas-.html" title="Google OAuth (SaaS)">Google OAuth (SaaS)</a> instead.</p></div><p>Google supports OAuth 2.0, which allows users to log in to third-party applications such as Sysdig using Google credentials. By default, the created user will not have Admin rights within the Sysdig application, though these rights can be subsequently assigned.</p><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-Prerequisites" class="bridgehead">Prerequisites</h6><p>The Sysdig platform on-premises installation must have a DNS name associated with it. Google does not support applications that do not have an associated DNS name.</p><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-DNSName" class="bridgehead">DNS Name</h6><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-Replicated" class="bridgehead">Replicated</h6><p>For <a class="link" href="17651-sysdig-install-with-replicated.html" title="Sysdig Install with Replicated">Replicated-based installations</a>, enter your <code class="code">Hostname</code> in the <code class="code">Settings</code> tab.</p><div class="mediaobject"><img src="image/uuid-0dbe95af-18eb-b527-431a-445dffaf57d0-en.png" style="" alt="373573858.png"></img></div><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-Kubernetes" class="bridgehead">Kubernetes</h6><p>For <a class="link" href="https://github.com/draios/sysdigcloud-kubernetes" target="_blank">Kubernetes-based installations</a>, ensure the <a class="link" href=""> <span class="bold bold"><strong> <code class="code">api.url</code> </strong></span> ConfigMap element</a> contains your hostname.</p><p>For the examples that follow, <code class="code">DNS_NAME</code> refers to this hostname you configured in your platform settings.</p><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-InGoogleConsoleObtainOAuthClientCredentials" class="bridgehead">In Google Console: Obtain OAuth Client Credentials</h6><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Log in to the <a class="link" href="https://console.developers.google.com/" target="_blank">Google API Console</a>.</p></li><li class="step"><p>Select <span class="bold bold"><strong> <code class="code">Credentials</code> </strong></span>from the left-hand navigation, and choose the <code class="code">OAuth consent screen</code> tab.</p><p>Enter the required <span class="bold bold"><strong>Email address</strong></span> and <span class="bold bold"><strong>Product name</strong></span>, as well as other additional optional information, then click <code class="code">Save</code>.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="600px"><tr><td><img src="image/uuid-87222bf2-f648-5a0f-ae41-581a6e069b3e-en.png" style="max-width: 600px; " alt="373573851.png"></img></td></tr></table></div></li><li class="step"><p>From the <code class="code">Credentials</code> tab, click the <code class="code">Create Credentials</code> drop-down and select <code class="code">OAuth client ID</code>.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="800px"><tr style="height: 319px"><td><img src="image/uuid-10b6943c-a36e-9f38-ff26-8e9cbfe71772-en.png" style="max-width: 800px; max-height: 319px; " alt="373573844.png"></img></td></tr></table></div></li><li class="step"><p>When prompted for <span class="bold bold"><strong>Application type</strong></span>, select <span class="bold bold"><strong>Web application</strong></span>, then enter the following parameters:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <span class="bold bold"><strong>Name: </strong></span>Use a meaningful name, such as "Sysdig".</p></li><li class="listitem"><p> <span class="bold bold"><strong>Authorized Javascript Origins:</strong></span> Enter <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://DNS_NAMEAPI_PORT" target="_blank">https://DNS_NAME:API_PORT</a> </code> </strong></span> </p></li><li class="listitem"><p> <span class="bold bold"><strong>Authorized Redirect URLs:</strong></span> Enter one or more of the following values:</p><p>If configuring Sysdig Monitor, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://DNS_NAMEAPI_PORT" target="_blank">https://DNS_NAME:API_PORT/api/oauth/google/auth</a> </code> </strong></span> </p><p>If configuring Sysdig Secure, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://DNS_NAMEAPI_PORT" target="_blank">https://DNS_NAME:API_PORT/api/oauth/google/secureAuth</a> </code> </strong></span> </p><p> <code class="code"></code> </p></li></ul></div></li><li class="step"><p>Click <code class="code">Create</code>.</p><p>A success message with client ID and client secret will be displayed. Copy these to a safe place, as you will need them in the next step.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="511px"><tr style="height: 222px"><td><img src="image/uuid-3fd078f8-8dad-388e-36c9-4bfd3c6fbbe1-en.png" style="max-width: 511px; max-height: 222px; " alt="373573830.png"></img></td></tr></table></div></li></ol></div><p>Configure Settings in Sysdig</p><p>There are three options for configuring OAuth settings on the Sysdig side: a UI page (for Monitor only), scripts (both products), or entries in your Replicated or Kubernetes orchestrator (both products).</p><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-Option1UI-BasedConfigureGoogleOAuthinSettingsMonitorOnly" class="bridgehead">Option 1 UI-Based: Configure Google OAuth in Settings (Monitor Only)</h6><p>At this time, the Authorization UI is available only for Sysdig Monitor.</p><p>To enable baseline Google Oauth functionality:</p><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-EnterGoogleOAuthBasicSettings" class="bridgehead">Enter Google OAuth Basic Settings</h6><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Log in to Sysdig Monitor or Sysdig Secure as <a class="link" href="https://sysdigdocs.atlassian.net/wiki/spaces/Platform/pages/206569685/Find+the+Super+Admin+Credentials+and+User+Token" target="_blank">"super" Admin</a> and select <code class="code">Settings. <div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="250px"><tr style="height: 60px"><td><img src="image/uuid-8ffc89d6-bc91-8d6b-919d-5002950674fc-en.png" style="max-width: 250px; max-height: 60px; " alt="373573812.png"></img></td></tr></table></div></code> </p></li><li class="step"><p>Select <code class="code">Authentication</code>.</p></li><li class="step"><p>Select the <code class="code">Google OAuth</code> tab.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="700px"><tr><td><img src="image/uuid-b1a9b81a-64c3-bf1b-0659-3a2b515afba2-en.png" style="max-width: 700px; " alt="373573787.png"></img></td></tr></table></div></li><li class="step"><p>Enter the relevant parameters and click <code class="code">Save</code>.</p><p> <span class="bold bold"><strong>Application ID:</strong></span> the Client ID you were sent.</p><p> <span class="bold bold"><strong>Application Secret:</strong></span> the Client Secret you were sent</p><p> <span class="bold bold"><strong>URL Redirect: </strong></span> </p><p>If configuring Sysdig Monitor, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://DNS_NAMEAPI_PORT" target="_blank">https://DNS_NAME:API_PORT/api/oauth/google/auth</a> </code> </strong></span> </p><p>If configuring Sysdig Secure, enter: <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://DNS_NAMEAPI_PORT" target="_blank">https://DNS_NAME:API_PORT/api/oauth/google/secureAuth</a> </code> </strong></span> <span class="bold bold"><strong>Allowed Domains:</strong></span> Comma-separated list of domains permitted to log in. For example, <span class="italic italic"> <a class="link" href="http://mycompany.com" target="_blank">mycompany.com</a>, <a class="link" href="http://myxompanyalias.com" target="_blank">myxompanyalias.com</a>.</span> </p></li></ol></div><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-SelectGoogleOAuthforSSO" class="bridgehead">Select Google OAuth for SSO</h6><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Select <code class="code">Google Oauth </code>from the <span class="bold bold"><strong> <code class="code">Enabled Single Sign-On </code> </strong></span>dropdown</p></li><li class="step"><p>Click <code class="code">Save Authentication</code>.</p></li><li class="step"><p>Repeat for Sysdig Monitor or Sysdig Secure, if you want to enable on both applications.</p></li></ol></div><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-Option2Script-BasedConfigureOAuthUsingScriptsMonitororSecure" class="bridgehead">Option 2 Script-Based: Configure OAuth Using Scripts (Monitor or Secure)</h6><p>The configuration of the Google OAuth feature can be viewed, updated, and deleted by the <a class="link" href="https://sysdigdocs.atlassian.net/wiki/spaces/Platform/pages/206569685/Find+the+Super+Admin+Credentials+and+User+Token" target="_blank">"super" Admin</a>. A <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://github.com/draios/sysdig-cloud-scripts/blob/master/SSO/Google_Oauth/google_oauth_config.sh" target="_blank">google_oauth_config.sh</a> </code> </strong></span> helper script is available in the <a class="link" href="https://github.com/draios/sysdig-cloud-scripts/tree/master/SSO" target="_blank"> <span class="bold bold"><strong>SSO</strong></span> </a> folder at <span class="bold bold"><strong> <code class="code">sysdig-cloud-scripts</code> </strong></span> repository to assist in completing this configuration. Invoking the script with no options will display help text.</p><pre class="programlisting"># ./google_oauth_config.sh -h
Usage: ./google_oauth_config.sh [OPTIONS]

Affect Google Oauth login settings for your Sysdig software platform installation
</pre><p>To use the helper script, modify <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://github.com/draios/sysdig-cloud-scripts/blob/master/SSO/env.sh" target="_blank">env.sh</a> </code> </strong></span> to set the required values for <span class="bold bold"><strong> <code class="code">API_TOKEN</code> </strong></span> of the "super" Admin user and the <span class="bold bold"><strong> <code class="code">URL</code> </strong></span> for accessing the Sysdig platform API (which will be the same URL that your users access for the Sysdig Monitor application).</p><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>Depending if the API_TOKEN has been obtained from the Sysdig Monitor or Sysdig Secure application UI, the settings will be applied to the consequent product.</p></div><p>Initially no Google Oauth settings are set. A initial run of the script would confirm that:</p><pre class="programlisting"># ./google_oauth_config.sh
No google-oauth settings are set
Run for further info: ./google_oauth_config.sh -h</pre><p>Add the <span class="bold bold"><strong> <code class="code">-s</code> </strong></span> option to set the Google Oauth configuration for a particular Sysdig application. When setting the config, you'll use additional options to provide the config details you saved in the earlier Google Oauth step.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col></colgroup><thead><tr><th class="th"><p>Config Detail</p></th><th class="th"><p>Option</p></th></tr></thead><tbody><tr><td class="td"><p>Client ID</p></td><td class="td"><p> <span class="bold bold"><strong> <code class="code">-i</code> </strong></span> </p></td></tr><tr><td class="td"><p>Client Secret</p></td><td class="td"><p> <span class="bold bold"><strong> <code class="code">-e</code> </strong></span> </p></td></tr><tr><td class="td"><p>Allowed Domains</p></td><td class="td"><p> <span class="bold bold"><strong> <code class="code">-a</code> </strong></span> </p></td></tr><tr><td class="td"><p>Redirect URL</p></td><td class="td"><p> <span class="bold bold"><strong> <code class="code">-r</code> </strong></span> </p></td></tr></tbody></table></div><p>If the configuration is successfully posted to the Sysdig platform, the new configuration will be echoed back.</p><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>Depending if the API_TOKEN has been obtained from the Sysdig Monitor or Sysdig Secure application UI, the settings will be applied to the relevant product.</p></div><pre class="programlisting"># ./google_oauth_config.sh -s -i "t2em0alq7l13n1hevua48ehieenkb06q.apps.googleusercontent.com" -e "ucP_WY908-k" -r "https://sysdigtest.com:443/api/oauth/google/auth" -a "[\"sysdig.com\"]"
{
  "authenticationSettings": {
    "id": 1,
    "version": 1,
    "createdOn": 1547709552000,
    "type": "google-oauth",
    "scope": "SYSTEM",
    "settings": {
      "clientId": "t2em0alq7l13n1hevua48ehieenkb06q.apps.googleusercontent.com",
      "clientSecret": "ucP_WY908-k",
      "redirectUrl": "https://sysdigtest.com:443/api/oauth/google/auth",
      "allowedDomains": [
        "sysdig.com"
      ]
    }
  }
}</pre><p>Once you've completed this configuration, clicking the Google Login button at the login screen of the appropriate Sysdig application(s) should redirect to Google Oauth login page.</p><p>If you wish to delete your Google Oauth configuration, invoke the <span class="bold bold"><strong> <code class="code">-d</code> </strong></span> option. If successful, the disabled configuration will be printed.</p><pre class="programlisting"># ./google_oauth_config.sh -d
{
  "authenticationSettings": {
    "id": 1,
    "version": 1,
    "createdOn": 1547709552000,
    "type": "google-oauth",
    "scope": "SYSTEM",
    "settings": {
      "clientId": "t2em0alq7l13n1hevua48ehieenkb06q.apps.googleusercontent.com",
      "clientSecret": "ucP_WY908-k",
      "redirectUrl": "https://sysdigtest.com:443/api/oauth/google/auth",
      "allowedDomains": [
        "sysdig.com"
      ]
    }
  }
}</pre><p>Option 3 Orchestrator-Based: Enter Settings Using Orchestrator (Monitor or Secure)</p><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-Replicated1" class="bridgehead">Replicated</h6><p>If you used the <a class="link" href="https://sysdigdocs.atlassian.net/wiki/spaces/Platform/pages/204767355/Replicated+Installation+Guide" target="_blank">Replicated</a> infrastructure manager to install the Sysdig platform:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Log in to the Replicated Management Console, click to the <code class="code">Settings</code> tab, then check the box to expand the<code class="code">Advanced Settings</code>.</p></li><li class="step"><p>Enter the <code class="code">Google OAuth client ID </code>and <code class="code">Google OAuth client Secret</code> in the appropriate fields.</p></li><li class="step"><p>(Optional) In a comma-separated list, enter the <code class="code">OAuth-allowed email domains</code> that should be permitted to authenticate. If set, only Google users whose email addresses are in these domains will be able to login to your Sysdig installation. If this setting is left blank, any user that successfully authenticates via Google will be permitted to login to your Sysdig installation.</p><div class="mediaobject"><img src="image/uuid-ebf8e74e-b80a-645d-9e40-5e0e5deb096b-en.png" style="" alt="373573824.png"></img></div></li><li class="step"><p>Click <code class="code">Save</code>.The Sysdig platform will then restart to enable the settings.</p></li></ol></div><h6 id="UUID-75a13b23-2396-d5df-9111-385ec8054322_id_GoogleOAuthOn-Prem-Kubernetes1" class="bridgehead">Kubernetes</h6><p>Enter the <span class="bold bold"><strong>OAuth allowed domains, Client ID</strong></span>, and <span class="bold bold"><strong>Client Secret</strong></span> into the <a class="link" href="">appropriate elements of the Kubernetes ConfigMap</a>. Use appropriate Kubernetes methods to push the updated settings and restart the backend containers to make the changes take effect.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows" style="text-align: left;"><colgroup><col></col></colgroup><tbody><tr><td class="td"><p> <code class="code"># Optional: OAuth allowed domains (comma separated list of domains)</code> <code class="code">sysdigcloud.oauth.allowed.domains.list: </code> <code class="code">""</code> <code class="code"># Optional: Sysdig Cloud Google OAuth Client ID</code> <code class="code"> <a class="link" href="http://sysdigcloud.google.oauth.client.id" target="_blank">sysdigcloud.google.oauth.client.id</a>: </code> <code class="code">""</code> <code class="code"># Optional: Sysdig Cloud Google OAuth Client Secret</code> <code class="code">sysdigcloud.google.oauth.client.secret: </code> <code class="code">""</code> </p></td></tr></tbody></table></div><p>User Experience</p><p>Note the following requirements for successful Google OAuth login:</p><div dir="ltr" class="warning warning"><h3 class="title">Warning</h3><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>The user must have already logged in successfully at least once to your environment (such as via email-based Invitation and having set an initial password)</p></li><li class="listitem"><p>The user's login username in the Sysdig platform must precisely match the user's Google email address (that is, it cannot be a shortened/altered Google email alias)</p></li></ul></div></div><p>For such a user to log in via Google OAuth, click the <code class="code">Log in with Google</code> button.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="200px"><tr><td><img src="image/uuid-459fb9da-1787-5bf0-c771-d37e02ad28f3-en.png" style="max-width: 200px; " alt="373573818.png"></img></td></tr></table></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>If the user's browser has not already successfully authenticated via Google and/or has multiple Google profiles known by their browser, they will be presented a Google page to select a profile and enter a password (if necessary) before being redirected back to your Sysdig environment.</p></div><p>See also <a class="link" href="https://sysdigdocs.atlassian.net/wiki/spaces/Platform/pages/206307381/User+and+Team+Administration" target="_blank">User and Team Administration</a> for information on creating users.</p><pre class="programlisting"></pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> Prerequisites </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> DNS Name </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p> Replicated </p></li><li class="listitem"><p> Kubernetes </p></li></ul></div></li></ul></div></li><li class="listitem"><p> In Google Console: Obtain OAuth Client Credentials  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> Option 1 UI-Based: Configure Google OAuth in Settings (Monitor Only) </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p> Enter Google OAuth Basic Settings </p></li><li class="listitem"><p> Select Google OAuth for SSO  </p></li></ul></div></li><li class="listitem"><p> Option 2 Script-Based: Configure OAuth Using Scripts (Monitor or Secure)  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p> Replicated  </p></li><li class="listitem"><p> Kubernetes </p></li></ul></div></li></ul></div></li></ul></div></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17678-authentication-and-authorization--on-prem-options-.html#UUID-a6838af5-084b-2767-1990-f0fcc15fa720_id_AuthenticationandAuthorizationOn-PremOptions-Workflow">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17681-saml--on-prem-.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2019 Sysdig </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
