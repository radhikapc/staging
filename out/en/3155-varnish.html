<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Varnish</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5d6593bb1e613.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/hilitor.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="3154-tcp.html#UUID-42b669f2-6190-31dd-060e-2498f68c934b_id_TCP-SysdigAgentConfiguration" title="Sysdig Agent Configuration"></link><link rel="next" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-VarnishSetup" title="Varnish Setup"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script>
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="3104-sysdig-integrations.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c9afbbe1-ebba-13d8-6b7e-280e11acba65" data-permalink="3104-sysdig-integrations.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Integrations</a><ul><li><a href="3105-integrate-prometheus-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a9b82586-6669-653a-af4c-e3d71e6093b7" data-permalink="3105-integrate-prometheus-metrics.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Integrate Prometheus Metrics</a><ul><li><a href="3107-working-with-prometheus-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-8bd65a70-2435-d187-5a82-5051cd0fb446" data-permalink="3107-working-with-prometheus-metrics.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Working with Prometheus Metrics</a></li><li><a href="3108-setting-up-the-environment.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a4adb3dc-dd6b-c699-083c-2af49c3c0c72" data-permalink="3108-setting-up-the-environment.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Setting up the Environment</a></li><li><a href="3109-configuring-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6cbe659b-9319-7b62-a86d-55323e3ea7ff" data-permalink="3109-configuring-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Configuring Sysdig Agent</a></li><li><a href="3110-example-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-55bf7152-4556-4daf-6791-570519bf3992" data-permalink="3110-example-configuration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Example Configuration</a></li><li><a href="3112-enabling-histogram-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-34422b16-7fcd-3a85-26d3-bb4d94d1288a" data-permalink="3112-enabling-histogram-metrics.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Enabling Histogram Metrics</a></li><li><a href="3113-logging-and-troubleshooting.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-23ab4e27-6d6d-9ad9-b6c9-90eaea6d9c41" data-permalink="3113-logging-and-troubleshooting.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Logging and Troubleshooting</a></li><li><a href="3114-collecting-prometheus-metrics-from-remote-hosts.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-342fa844-e78f-96bf-6c74-8b614468fe9e" data-permalink="3114-collecting-prometheus-metrics-from-remote-hosts.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Collecting Prometheus Metrics from Remote Hosts</a></li><li><a href="3115-legacy-prometheus-application-check.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-533d714c-4898-196c-9fc3-0f65ec54908f" data-permalink="3115-legacy-prometheus-application-check.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Legacy Prometheus Application Check</a></li></ul></li><li><a href="3117-integrate-jmx-metrics-from-java-virtual-machines.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-eb4a14da-a0d4-5d37-b74c-9c1d4fd24a76" data-permalink="3117-integrate-jmx-metrics-from-java-virtual-machines.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Integrate JMX Metrics from Java Virtual Machines</a><ul></ul></li><li><a href="3118-integrate-statsd-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6efe354e-5d0d-8dc2-d58c-103524dcb0cb" data-permalink="3118-integrate-statsd-metrics.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Integrate StatsD Metrics</a><ul></ul></li><li><a href="3119-integrate-node-js-application-metrics.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-fd238571-3246-4a22-59ae-18a993d11d70" data-permalink="3119-integrate-node-js-application-metrics.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Integrate Node.js Application Metrics</a></li><li><a href="3120-integrate-applications--default-app-checks-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-771652e1-1419-993b-6a15-6ffb08f23cbe" data-permalink="3120-integrate-applications--default-app-checks-.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Integrate Applications (Default App Checks)</a><ul><li><a href="3121-apache.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-64c470a7-e270-f52a-9d4e-e5605bac1718" data-permalink="3121-apache.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Apache</a></li><li><a href="3123-apache-kafka.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-f1c8650c-2065-3228-fd9c-0a3d6b82c639" data-permalink="3123-apache-kafka.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Apache Kafka</a></li><li><a href="3124-consul.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4b73c2b6-efa2-2343-27c9-6e0b26d591bc" data-permalink="3124-consul.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Consul</a></li><li><a href="3125-couchbase.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-9ff10bbb-1088-960a-5cde-838624a17940" data-permalink="3125-couchbase.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Couchbase</a></li><li><a href="3127-elasticsearch.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d4d1e0c4-598f-4f63-300e-f802b50c330a" data-permalink="3127-elasticsearch.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Elasticsearch</a></li><li><a href="3128-etcd.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4bae6ed0-5775-bfc3-4371-83fd47def0a5" data-permalink="3128-etcd.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">etcd</a></li><li><a href="3129-fluentd.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e2d1ac01-d432-6fd0-32ce-2381967c2e15" data-permalink="3129-fluentd.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">fluentd</a></li><li><a href="3130-go.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d465f071-3785-9fbc-46d8-01c47f6972f4" data-permalink="3130-go.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Go</a></li><li><a href="3132-haproxy.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-f5e13a87-5f1e-3fb1-0ef7-46c607383054" data-permalink="3132-haproxy.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">HAProxy</a></li><li><a href="3133-http.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7b7ba219-c4a4-14b2-76dc-3a1c60c7c18b" data-permalink="3133-http.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">HTTP</a></li><li><a href="3134-jenkins.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5fa77af2-c8de-8f47-dca6-81811fe43192" data-permalink="3134-jenkins.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Jenkins</a></li><li><a href="3135-lighttpd.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2c3fe34b-07ce-049b-c8d9-84d3c6dd741e" data-permalink="3135-lighttpd.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Lighttpd</a></li><li><a href="3137-memcached.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7897e082-fe51-1873-62ad-6295076c4eae" data-permalink="3137-memcached.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Memcached</a></li><li><a href="3138-mesos-marathon.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-72457e7b-045b-3b5a-a5e6-c52a2df450da" data-permalink="3138-mesos-marathon.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Mesos/Marathon</a></li><li><a href="3139-mongodb.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1a139ac5-dfe1-7727-0091-9bdf699f9a1f" data-permalink="3139-mongodb.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">MongoDB</a></li><li><a href="3140-mysql.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-93234bab-924b-2250-161e-ceaa9770dfeb" data-permalink="3140-mysql.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">MySQL</a></li><li><a href="3142-nginx-and-nginx-plus.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-9008d003-9e7d-02b4-242a-6276d734edd6" data-permalink="3142-nginx-and-nginx-plus.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">NGINX and NGINX Plus</a></li><li><a href="3143-ntp.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a75d6c62-a783-2440-006b-e9534dba217a" data-permalink="3143-ntp.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">NTP</a></li><li><a href="3144-pgbouncer.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b6187581-6d76-6801-5fb8-37205d6078ad" data-permalink="3144-pgbouncer.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">PGBouncer</a></li><li><a href="3145-php-fpm.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-460fb892-ef32-68cb-b3b1-e2470c819a4b" data-permalink="3145-php-fpm.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">PHP-FPM</a></li><li><a href="3146-postgresql.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-767dec2b-fae0-8fdd-05b3-c95df961294c" data-permalink="3146-postgresql.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">PostgreSQL</a></li><li><a href="3148-rabbitmq.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b227203f-f34e-0e0a-a836-2758e411c0e4" data-permalink="3148-rabbitmq.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">RabbitMQ</a></li><li><a href="3149-redisdb.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a396629f-2db8-891a-3b7d-e369097a7363" data-permalink="3149-redisdb.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">RedisDB</a></li><li><a href="3150-riak-cs.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-939f345f-57ea-a753-b01c-31b753c54a11" data-permalink="3150-riak-cs.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Riak CS</a></li><li><a href="3151-snmp.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7225411d-9c9b-83ca-d7c3-5146bbf5bba4" data-permalink="3151-snmp.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">SNMP</a></li><li><a href="3153-supervisord.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-950e7b4a-90cb-f4bd-96fe-d8175e9ab627" data-permalink="3153-supervisord.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Supervisord</a></li><li><a href="3154-tcp.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-aa7e8ed8-93a3-f2c1-15f1-214a73d39883" data-permalink="3154-tcp.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">TCP</a></li><li><a href="3155-varnish.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a0eea3eb-5fbe-b4c8-c4d4-6f155ab6132f" data-permalink="3155-varnish.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Varnish</a></li><li><a href="3157---copy-of-mesos-marathon--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-32a2994a-74b8-49dc-b4cc-f6714fcd9c61" data-permalink="3157---copy-of-mesos-marathon--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Mesos/Marathon**</a></li><li><a href="3158---copy-of-riak-cs--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1f847c7e-a391-669d-cc23-cbc1ef183766" data-permalink="3158---copy-of-riak-cs--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Riak CS**</a></li><li><a href="3159--memsql-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-604931fe-c39f-a523-3c87-27725eeba279" data-permalink="3159--memsql-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">*MemSQL*</a></li><li><a href="3160--oracledb-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-de6019a1-3bd6-c447-6fef-ef964a9ee0db" data-permalink="3160--oracledb-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">*OracleDB*</a></li><li><a href="3162---tokumx--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cc07b817-f87c-72e2-475c-f08d4ac7b1a5" data-permalink="3162---tokumx--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**TokuMX**</a></li></ul></li><li><a href="3163-monitor-log-files.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-fab0e8c0-9a8b-6da1-72ed-1a6f78bcc819" data-permalink="3163-monitor-log-files.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Monitor Log Files</a><ul></ul></li><li><a href="3164-create-a-custom-app-check.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-87fda1aa-3729-5b0b-0e6d-3826c07008b2" data-permalink="3164-create-a-custom-app-check.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Create a Custom App Check</a><ul></ul></li><li><a href="3165-create-per-container-custom-app-checks.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-be3c8a46-1153-ae68-9ffa-a743b9f4c5c7" data-permalink="3165-create-per-container-custom-app-checks.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Create Per-Container Custom App Checks</a><ul></ul></li><li><a href="3167---copy-of-integrate-statsd-metrics--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-62916008-0afc-b3b9-9a57-0619ffd7162c" data-permalink="3167---copy-of-integrate-statsd-metrics--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Integrate StatsD Metrics**</a><ul></ul></li></ul></li></ul></aside><div class="site-content"><h1 class="publication-title">SI (Sysdig Integrations)</h1><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="3154-tcp.html#UUID-42b669f2-6190-31dd-060e-2498f68c934b_id_TCP-SysdigAgentConfiguration">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-VarnishSetup">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <span class="current-category">SI (Sysdig Integrations)</span></li><li class="breadcrumb-link"><a href="3104-sysdig-integrations.html">Sysdig Integrations</a></li><li class="breadcrumb-link"><a href="3120-integrate-applications--default-app-checks-.html">Integrate Applications (Default App Checks)</a></li><li class="breadcrumb-node">Varnish</li></ul></div><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-a0eea3eb-5fbe-b4c8-c4d4-6f155ab6132f" data-permalink="3155-varnish.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Varnish</h1></div></div></div><p> <a class="link" href="https://varnish-cache.org/" target="_blank">Varnish HTTP Cache</a> is a web application accelerator, also known as a "caching HTTP reverse proxy." You install it in front of any server that speaks HTTP and configure it to cache the contents. If Varnish is installed on your environment, the Sysdig agent will automatically connect. See <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-DefaultConfiguration" title="Default Configuration">Default Configuration</a>.</p><p>The Sysdig Agent automatically collects all metrics. You can also edit the configuration to emit service checks for the back end.</p><p>This page describes the default configuration settings, how to edit the configuration to collect additional information, the metrics available for integration, and a sample result in the Sysdig Monitor UI.</p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-VarnishSetup"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Varnish Setup</h2></div></div></div><p>Varnish will automatically expose all metrics. You do not need to add anything to the Varnish instance.</p></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-SysdigAgentConfiguration"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Sysdig Agent Configuration</h2></div></div></div><p>Review how to <a class="link" href="">Edit dragent.yaml to Integrate or Modify Application Checks</a>.</p><h6 id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-DefaultConfiguration" class="bridgehead">Default Configuration</h6><p>By default, Sysdig's <code class="code">dragent.default.yaml</code> uses the following code to connect with Varnish and collect all but the VBE metrics. (See also <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-Example2EnableVarnishVBEMetrics" title="Example 2 Enable Varnish VBE Metrics">Example 2 Enable Varnish VBE Metrics</a>.)</p><pre class="programlisting">metrics_filter:
 - exclude: varnish.VBE.*
app_checks:
 - name: varnishapp_checks:
    interval: 15
    pattern:
      comm: varnishd
    conf:
      varnishstat: /usr/bin/varnishstat</pre><p>Optionally, if you want to submit service checks for the health of each back end, you can configure <code class="code">varnishadm</code> and edit <code class="code">dragent.yaml</code> as in Example 1.</p><div dir="ltr" class="warning warning"><h3 class="title">Warning</h3><p> <span class="bold bold"><strong>Remember!</strong></span> Never edit <code class="code">dragent.default.yaml</code> directly; always edit only <code class="code">dragent.yaml</code>.</p></div><h6 id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-Example1ServiceHealthCheckswithvarnishadm" class="bridgehead">Example 1 Service Health Checks with varnishadm</h6><p>When <code class="code">varnishadm</code> is configured, the Sysdig agent requires privileges to execute the binary with root privileges. Add the following to your <code class="code">/etc/sudoers</code> file:</p><pre class="programlisting">sysdig-agent ALL=(ALL) NOPASSWD:/usr/bin/varnishadm</pre><p>Then edit <code class="code">dragent.yaml</code> as follows. <span class="bold bold"><strong>Note:</strong></span> If you have configured <code class="code">varnishadm</code> and your secret file is NOT <code class="code">/etc/varnish/secret</code>, you can comment out <code class="code">secretfile.</code> </p><pre class="programlisting">app_checks:
  - name: varnish
    interval: 15
    pattern:
      comm: varnishd
    conf:
      varnishstat: /usr/bin/varnishstat
      varnishadm: /usr/bin/varnishadm
      secretfile: /etc/varnish/secret   </pre><p>This example will enable following service check.</p><p> <code class="code">varnish.backend_healthy</code>: The agent submits a service check for each Varnish backend, tagging each with <code class="code">backend:&lt;backend_name&gt;</code>.</p><h6 id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-Example2EnableVarnishVBEMetrics" class="bridgehead">Example 2 Enable Varnish VBE Metrics</h6><p>Varnish VBE metrics are dynamically generated (and therefore are not listed in the <a class="link" href="https://sysdigdocs.atlassian.net/wiki/spaces/Monitor/pages/312377507/Varnish+Metrics" target="_blank">Metrics Dictionary</a>). Because they generate unique metric names with timestamps, they can clutter metric handling and are filtered out by default. If you want to collect these metrics, use <code class="code">include</code> in the <code class="code">metrics_filter</code> in <code class="code">dragent.yaml</code>:</p><pre class="programlisting">metrics_filter:
 - include: varnish.VBE.*
app_checks:
 - name: varnishapp_checks:
    interval: 15
    pattern:
      comm: varnishd
    conf:
      varnishstat: /usr/bin/varnishstat</pre></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-MetricsAvailable"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Metrics Available</h2></div></div></div><p>See <a class="link" href="https://sysdigdocs.atlassian.net/wiki/spaces/Monitor/pages/312377507/Varnish+Metrics" target="_blank">Varnish Metrics</a>.</p><h6 id="UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-ResultintheMonitorUI" class="bridgehead">Result in the Monitor UI</h6><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="550px"><tr><td><img src="image/uuid-1745ba5d-d83f-8a91-5c7f-cb9d48dca432-en.png" style="max-width: 550px; " alt="373982601.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="550px"><tr><td><img src="image/uuid-4eaad931-3229-8c47-36c3-339496b239f2-en.png" style="max-width: 550px; " alt="373982622.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="550px"><tr><td><img src="image/uuid-d56b675e-2b47-3b41-1cdd-a774caadb712-en.png" style="max-width: 550px; " alt="373982608.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="550px"><tr><td><img src="image/uuid-ac26cf54-0a6e-eb40-af71-705ae2a15a8c-en.png" style="max-width: 550px; " alt="373982615.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="550px"><tr><td><img src="image/uuid-a4f5fb0d-c40a-2a90-9ba0-ce3ab6963587-en.png" style="max-width: 550px; " alt="373982594.png"></img></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-VarnishSetup" title="Varnish Setup">Varnish Setup</a> </p></li><li class="listitem"><p> <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-SysdigAgentConfiguration" title="Sysdig Agent Configuration">Sysdig Agent Configuration </a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-DefaultConfiguration" title="Default Configuration">Default Configuration </a> </p></li><li class="listitem"><p> <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-Example1ServiceHealthCheckswithvarnishadm" title="Example 1 Service Health Checks with varnishadm">Example 1 Service Health Checks with varnishadm</a> </p></li><li class="listitem"><p> <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-Example2EnableVarnishVBEMetrics" title="Example 2 Enable Varnish VBE Metrics">Example 2 Enable Varnish VBE Metrics</a> </p></li></ul></div></li><li class="listitem"><p> <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-MetricsAvailable" title="Metrics Available">Metrics Available </a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <a class="link" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-ResultintheMonitorUI" title="Result in the Monitor UI">Result in the Monitor UI </a> </p></li></ul></div></li></ul></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605">Varnish</a></li><li><a href="#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-VarnishSetup">Varnish Setup</a></li><li><a href="#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-SysdigAgentConfiguration">Sysdig Agent Configuration</a></li><li><a href="#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-MetricsAvailable">Metrics Available</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="3154-tcp.html#UUID-42b669f2-6190-31dd-060e-2498f68c934b_id_TCP-SysdigAgentConfiguration">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="3155-varnish.html#UUID-2886a422-4794-4b9e-a081-2f9e97c1e605_id_Varnish-VarnishSetup">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2019 Sysdig </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
