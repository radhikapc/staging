<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>**Prioritize/Include/Exclude Designated Containers**</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5d6593bb1e613.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/hilitor.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="17731-disable-captures.html" title="Disable Captures"></link><link rel="next" href="17734---sysdig_aggregated-container-metrics--.html" title="**Sysdig_aggregated Container Metrics**"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script>
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="17625-sysdig-platform.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7f578b2-c960-970c-a969-10cebb31d199" data-permalink="17625-sysdig-platform.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Platform</a><ul><li><a href="17626-on-premises-deployments.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b0fbda15-008f-f5ef-e82b-44edcdbddf2f" data-permalink="17626-on-premises-deployments.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> On-Premises Deployments</a><ul><li><a href="17627-architecture---system-requirements.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cd539f11-f1ce-b46c-2e31-33817e7fbcfe" data-permalink="17627-architecture---system-requirements.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Architecture &amp; System Requirements</a></li><li><a href="17636-on-premises-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-f3f2b80c-ab17-0417-e900-5e28acb4e13d" data-permalink="17636-on-premises-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Installation</a></li><li><a href="17660-on-premises-upgrades.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-56e8e98a-2ab4-6b39-ba6e-35eee1e169cc" data-permalink="17660-on-premises-upgrades.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Upgrades</a></li><li><a href="17672-find-the-super-admin-credentials-and-api-token.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cb40fc4f-b85a-8739-4a4e-0a9009419723" data-permalink="17672-find-the-super-admin-credentials-and-api-token.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find the Super Admin Credentials and API Token</a></li><li><a href="17674-upgrade-an-on-premises-license.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ec730506-5804-f830-4a75-644e44406dff" data-permalink="17674-upgrade-an-on-premises-license.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Upgrade an On-Premises License</a></li><li><a href="17675-securing-elasticsearch.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e5a2a6fa-12cf-e145-8643-4d17b5e5e809" data-permalink="17675-securing-elasticsearch.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Elasticsearch</a></li><li><a href="17677-securing-cassandra.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e0ca8e47-108a-cdd2-9661-7a7a53b9da47" data-permalink="17677-securing-cassandra.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Cassandra</a></li><li><a href="17678-authentication-and-authorization--on-prem-options-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-059259c5-41cc-52f1-27db-8692bce591a4" data-permalink="17678-authentication-and-authorization--on-prem-options-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (On-Prem Options)</a></li><li><a href="17700---backup-and-restore-best-practices--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-86ef3d03-037d-7aac-2390-c43096ed0cde" data-permalink="17700---backup-and-restore-best-practices--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Backup and Restore Best Practices**</a></li></ul></li><li><a href="17701-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ee770b85-3c82-28cf-48e0-a38a6f973bc1" data-permalink="17701-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Agent</a><ul><li><a href="17703-host-requirements-for-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-813a9695-5e30-e72f-2e2c-26c84ddecb33" data-permalink="17703-host-requirements-for-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Host Requirements for Agent Installation</a></li><li><a href="17705-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1bbdf1e4-3277-cf2c-d247-de7a1d067e70" data-permalink="17705-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation</a></li><li><a href="17720-agent-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5595fb10-5c8e-1d38-1652-275b75d701cf" data-permalink="17720-agent-configuration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Configuration</a></li><li><a href="17740-agent-upgrade.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a2991ad8-39da-4686-6ca1-d0838e93e523" data-permalink="17740-agent-upgrade.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Upgrade</a></li><li><a href="17741---agent-stop---start---disable---remove.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-34276f78-88ad-274e-0736-c6ccf91b5aaa" data-permalink="17741---agent-stop---start---disable---remove.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Agent Stop | Start | Disable | Remove</a></li><li><a href="17742-agent-uninstall.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ead96597-570b-8e87-7eef-ce217e0b7b3b" data-permalink="17742-agent-uninstall.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Uninstall</a></li><li><a href="17744-troubleshooting-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4c9eb77e-478d-6fe5-84d3-3e8f86cd8cb7" data-permalink="17744-troubleshooting-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Troubleshooting Agent Installation</a></li><li><a href="17745---copy-of-host-requirements-for-agent-installation--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5fed75f2-49db-93e2-69e1-12a3100c50c6" data-permalink="17745---copy-of-host-requirements-for-agent-installation--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Host Requirements for Agent Installation**</a></li></ul></li><li><a href="17746-administration-settings.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-79535d85-dcdb-4dfd-1b55-de1edacb346d" data-permalink="17746-administration-settings.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Administration Settings</a><ul><li><a href="17748-user-profile-and-password.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-07096ea3-1ed7-934f-683e-9d0000edc6f7" data-permalink="17748-user-profile-and-password.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User Profile and Password</a></li><li><a href="17750-user-and-team-administration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c24fe2df-c073-159f-5ad6-cd18bc15c2d3" data-permalink="17750-user-and-team-administration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User and Team Administration</a></li><li><a href="17755-notifications-management.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-156d27b4-e0d2-ec69-bac9-5ec0500ca128" data-permalink="17755-notifications-management.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Notifications Management</a></li><li><a href="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6d00fdd3-1f49-e49e-bb0b-556c377d07ac" data-permalink="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">AWS: Integrate AWS Account and CloudWatch Metrics (Optional)</a></li><li><a href="17771-storage--configure-aws-capture-file-storage--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7ff24b5-cfc5-ac9d-767d-ef7dc9d2d9c5" data-permalink="17771-storage--configure-aws-capture-file-storage--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Storage: Configure AWS Capture File Storage (Optional)</a></li><li><a href="17772-find-your-customer-number.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-703bf9f7-20e0-a6e2-cecc-f5a66cbcd977" data-permalink="17772-find-your-customer-number.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find Your Customer Number</a></li><li><a href="17774-agent-installation--overview-and-key.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2d64062a-c3ab-484f-5b45-3b0ef8b3b5b8" data-permalink="17774-agent-installation--overview-and-key.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation: Overview and Key</a></li><li><a href="17775-subscription--change-number-of-licensed-agents.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5d8a57ce-6bd9-b5f6-6460-17b233e4facc" data-permalink="17775-subscription--change-number-of-licensed-agents.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Subscription: Change Number of Licensed Agents</a></li><li><a href="17779-authentication-and-authorization--saas-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-91fa12e3-2fc9-97ab-1bf8-6d9830e4ad84" data-permalink="17779-authentication-and-authorization--saas-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (SaaS)</a></li></ul></li><li><a href="17794-get-help---using-sysdig-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-712b3b75-2584-30e3-5bd9-e1e57d3d8756" data-permalink="17794-get-help---using-sysdig-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Get Help | Using Sysdig Support</a><ul><li><a href="17795-self-help.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-39aa92d8-58c3-29d4-582f-4561a368c52f" data-permalink="17795-self-help.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Self-Help</a></li><li><a href="17797-contact-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-65fd6b5e-1ab7-6714-888b-95192ae78a5d" data-permalink="17797-contact-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Contact Support</a></li><li><a href="17802-terms-of-use.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b854f38e-12bc-b1af-1c03-372f7a4234d1" data-permalink="17802-terms-of-use.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Terms of Use</a></li></ul></li></ul></li></ul></aside><div class="site-content"><h1 class="publication-title">SP (Sysdig Platform)</h1><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17731-disable-captures.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17734---sysdig_aggregated-container-metrics--.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <span class="current-category">SP (Sysdig Platform)</span></li><li class="breadcrumb-link"><a href="17625-sysdig-platform.html">Sysdig Platform</a></li><li class="breadcrumb-link"><a href="17701-sysdig-agent.html">Sysdig Agent</a></li><li class="breadcrumb-link"><a href="17720-agent-configuration.html">Agent Configuration</a></li><li class="breadcrumb-link"><a href="17724-edit-the-agent-config-file-to-filter-data.html">Edit the Agent Config File to Filter Data</a></li><li class="breadcrumb-node">**Prioritize/Include/Exclude Designated Containers**</li></ul></div><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-e11084ae-2149-1efa-4fa8-5775dfeb06db" data-permalink="17733---prioritize-include-exclude-designated-containers--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">**Prioritize/Include/Exclude Designated Containers**</h1></div></div></div><p>To get the most out of Sysdig Monitor, you may want to customize the way in which container data is prioritized and reported. Use this page to understand the default behavior and sorting rules, and to implement custom behavior when and where you need it. This can help reduce agent and backend load by not monitoring unnecessary containers, or-- if encountering backend limits for containers-- you can filter to ensure that the important containers are always reported.</p><p>This section describes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Overview" title="Overview">Overview </a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandDefaultBehavior" title="Understand Default Behavior">Understand Default Behavior</a> </p></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandSimpleContainerFiltering" title="Understand Simple Container Filtering">Understand Simple Container Filtering</a> </p></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandSmartContainerReporting" title="Understand Smart Container Reporting">Understand Smart Container Reporting</a> </p></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandSysdigAggregatedContainer" title="Understand Sysdig Aggregated Container">Understand Sysdig Aggregated Container</a> </p></li></ul></div></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UseSimpleContainerFiltering" title="Use Simple Container Filtering">Use Simple Container Filtering </a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-ContainerConditionParametersandRules" title="Container Condition Parameters and Rules">Container Condition Parameters and Rules</a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Parameters" title="Parameters">Parameters</a> </p></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Rules" title="Rules">Rules</a> </p></li></ul></div></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-DefaultConfiguraton" title="Default Configuraton">Default Configuraton</a> </p></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-EnableContainerFilteringintheAgentConfigFile" title="Enable Container Filtering in the Agent Config File">Enable Container Filtering in the Agent Config File</a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Option1UsetheDefaultConfiguration" title="Option 1: Use the Default Configuration">Option 1: Use the Default Configuration</a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-1ApplyLabelsandorAnnotationstoDesignatedContainers" title="1. Apply Labels and/or Annotations to Designated Containers">1. Apply Labels and/or Annotations to Designated Containers</a> </p></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-2EdittheAgentConfiguration" title="2. Edit the Agent Configuration">2. Edit the Agent Configuration </a> </p></li></ul></div></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Option2DefineYourOwnRules" title="Option 2: Define Your Own Rules">Option 2: Define Your Own Rules</a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-1DesignateContainers" title="1. Designate Containers">1. Designate Containers </a> </p></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-2EdittheAgentConfiguration1" title="2. Edit the Agent Configuration">2. Edit the Agent Configuration</a> </p></li></ul></div></li></ul></div></li></ul></div></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UseSmartContainerReporting" title="Use Smart Container Reporting">Use Smart Container Reporting </a> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-EnableSmartContainerReportingandsysdig_aggregated" title="Enable Smart Container Reporting and sysdig_aggregated">Enable Smart Container Reporting and sysdig_aggregated</a> </p></li></ul></div></li><li class="listitem"><p> <a class="link" href="17733---prioritize-include-exclude-designated-containers--.html#UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Logging" title="Logging">Logging</a> </p></li></ul></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Overview" class="bridgehead">Overview</h7><p>By default, a Sysdig agent will collect metrics from all containers it detects in an environment. When reporting to the Monitor interface, it uses default sorting behavior to prioritize what container information to display first.</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandDefaultBehavior" class="bridgehead">Understand Default Behavior</h7><p>Out of the box, it chooses the containers with the highest</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>CPU</p></li><li class="listitem"><p>Memory</p></li><li class="listitem"><p>File IO</p></li><li class="listitem"><p>Net IO</p></li></ul></div><p>and allocates approximately 1/4 of the total limit to each stat type.</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandSimpleContainerFiltering" class="bridgehead">Understand Simple Container Filtering</h7><p>As of <a class="link" href="">agent version 0.86</a>, it is possible set a <span class="bold bold"><strong> <code class="code">use_container_filter</code> </strong></span> parameter in the agent <code class="code">config</code> file, tag/label specific containers, and set i<code class="code">nclude/exclude</code> rules to push those containers to the top of the reporting hierarchy.</p><p>This is an effective sorting tool when:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You can manually mark each container with an <code class="code">include</code> or <code class="code">exclude</code> tag, AND</p></li><li class="listitem"><p>The number of includes is small (say, less than 100)</p></li></ul></div><p>In this case, the containers that explicitly match the <code class="code">include</code> rules will take top priority.</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandSmartContainerReporting" class="bridgehead">Understand Smart Container Reporting</h7><p>In some enterprises, the number of containers is too high to tag with simple filtering rules, and/or the <code class="code">include_all</code> group is too large to ensure that the most-desired containers are consistently reported. As of &lt;agent version ??&gt;, you can append another parameter to the agent config file, <code class="code">smart_container_reporting</code>.</p><p>This is an effective sorting tool when:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The number of containers is large and you can't or won't mark each one with include/exclude tags, AND</p></li><li class="listitem"><p>There are certain containers you would like to always prioritize</p></li></ul></div><p>This helps ensure that even when there are thousands of containers in an environment, the most-desired containers are consistently reported.</p><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>Container filtering and smart container reporting affect the monitoring of all the processes/metrics within a container, including StatsD, JMX, app-checks, and built-in metrics.</p><p>Prometheus metrics are attached to processes, rather than containers, and are therefore handled differently.</p><p>The container limit is set in dragent.yaml under <code class="code">containers:limit: </code> </p></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UnderstandSysdigAggregatedContainer" class="bridgehead">Understand Sysdig Aggregated Container</h7><p>The <code class="code">sydig_aggregated</code> parameter is automatically activated when smart container reporting is enabled, to capture the most-desired metrics from the containers that were excluded by smart filtering and report them under a single entity. It appears like any other container in the Sysdig Monitor UI, with the name "<code class="code">sysdig_aggregated.</code>"</p><p> <code class="code">Sysdig_aggregated</code> can report on a wide array of metrics; see <a class="link" href="17734---sysdig_aggregated-container-metrics--.html" title="**Sysdig_aggregated Container Metrics**">**Sysdig_aggregated Container Metrics**</a>. However, because this is not a regular container, certain limitations apply:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>container_id and container_image do not exist.</p></li><li class="listitem"><p>The aggregated container cannot be segmented by certain metrics that are excluded, such as process.</p></li><li class="listitem"><p>Some default dashboards associated with the aggregated container may have some empty graphs.</p></li></ul></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UseSimpleContainerFiltering" class="bridgehead">Use Simple Container Filtering</h7><p>By default, the filtering feature is turned off. It can be enabled by adding the following line to the agent configuration:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <code class="code">use_container_filter: true</code> </p></li></ul></div><p>When enabled, the agent will follow include/exclude filtering rules based on:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>container image</p></li><li class="listitem"><p>container name</p></li><li class="listitem"><p>container label</p></li><li class="listitem"><p>Kubernetes annotation or label</p></li></ul></div><p>The default behavior in <code class="code">default.dragent.yaml</code> excludes based on a <span class="bold bold"><strong>container label</strong></span> (<code class="code">com.sysdig.report</code>) and/or a <span class="bold bold"><strong>Kubernetes pod annotation</strong></span> (<code class="code">.<a class="link" href="http://sysdig.com/report" target="_blank">sysdig.com/report</a> </code>).</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-ContainerConditionParametersandRules" class="bridgehead">Container Condition Parameters and Rules</h7><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Parameters" class="bridgehead">Parameters</h7><p>The condition parameters are described in the following table:</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col><col></col></colgroup><thead><tr><th class="th"><p>Pattern name</p></th><th class="th"><p>Description</p></th><th class="th"><p>Example</p></th></tr></thead><tbody><tr><td class="td"><p> <code class="code">container.image</code> </p></td><td class="td"><p>Matches if the process is running inside a container running the specified image</p></td><td class="td"><p> <code class="code">- include:</code> </p><p> <code class="code"> container.image: luca3m/prometheus-java-app</code> </p></td></tr><tr><td class="td"><p> <code class="code">container.name</code> </p></td><td class="td"><p>Matches if the process is running inside a container with the specified name</p></td><td class="td"><p> <code class="code">- include:</code> </p><p> <code class="code"> container.name: my-java-app</code> </p></td></tr><tr><td class="td"><p> <code class="code">container.label.*</code> </p></td><td class="td"><p>Matches if the process is running in a container that has a Label matching the given value</p></td><td class="td"><p> <code class="code">- include:</code> </p><p> <code class="code"> container.label.class: exporter</code> </p></td></tr><tr><td class="td"><p> <code class="code">kubernetes.&lt;object&gt;.annotation.* kubernetes.&lt;object&gt;.label.*</code> </p></td><td class="td"><p>Matches if the process is attached to a Kubernetes object (Pod, Namespace, etc.) that is marked with the Annotation/Label matching the given value.</p></td><td class="td"><p> <code class="code">- include:</code> </p><p> <code class="code"> kubernetes.pod.annotation.prometheus.io/scrape: true</code> </p></td></tr><tr><td class="td"><p>all</p></td><td class="td"><p>Matches all. Use as last rule to determine default behavior.</p></td><td class="td"><p> <code class="code">- include:</code> </p><p> <code class="code"> all</code> </p></td></tr></tbody></table></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Rules" class="bridgehead">Rules</h7><p>Once enabled (when <code class="code">use_container_filter: true</code> is set), the agent will follow filtering rules from the <code class="code">container_filter</code> section.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Each rule is an <code class="code">include</code> or <code class="code">exclude</code> rule which can contain one or more conditions.</p></li><li class="listitem"><p>The first matching rule in the list will determine if the container is included or excluded.</p></li><li class="listitem"><p>The conditions consist of a key name and a value. If the given key for a container matches the value, the rule will be matched.</p></li><li class="listitem"><p>If a rule contains multiple conditions they all need to match for the rule to be considered a match.</p></li></ul></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-DefaultConfiguraton" class="bridgehead">Default Configuraton</h7><p>The <code class="code">dragent.default.yaml</code> contains the following default configuration for container filters:</p><pre class="programlisting">use_container_filter: false

container_filter:
  - include:
      container.label.com.sysdig.report: true
  - exclude:
      container.label.com.sysdig.report: false
  - include:
      kubernetes.pod.annotation.sysdig.com/report: true
  - exclude:
      kubernetes.pod.annotation.sysdig.com/report: false
  - include:
        all</pre><p>Note that it excludes via a <code class="code">container.label</code> and by a <code class="code">kubernetes.pod.annotation. </code> </p><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>The examples on this page show how to edit in the <code class="code">dragent.yaml</code> file directly. Convert the examples to Docker or Helm commands, if applicable for your situation.</p></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-EnableContainerFilteringintheAgentConfigFile" class="bridgehead">Enable Container Filtering in the Agent Config File</h7><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Option1UsetheDefaultConfiguration" class="bridgehead">Option 1: Use the Default Configuration</h7><p>To enable container filtering using the default configuration in <code class="code">default.dragent.yaml</code> (above), follow the steps below.</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-1ApplyLabelsandorAnnotationstoDesignatedContainers" class="bridgehead">1. Apply Labels and/or Annotations to Designated Containers</h7><p>To set up, decide which containers should be excluded from automatic monitoring.</p><p>Apply the container label <span class="bold bold"><strong> <code class="code">.com.sysdig.report</code> </strong></span> and/or the Kubernetes pod annotation <span class="bold bold"><strong> <code class="code">sysdig.com/report</code> </strong></span> to the designated containers.</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-2EdittheAgentConfiguration" class="bridgehead">2. Edit the Agent Configuration</h7><p>Add the following line to <code class="code">dragent.yaml</code> to turn on the default functionality:</p><pre class="programlisting">use_container_filter: true</pre><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Option2DefineYourOwnRules" class="bridgehead">Option 2: Define Your Own Rules</h7><p>You can also edit <code class="code">dragent.yaml</code> to apply your own container filtering rules.</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-1DesignateContainers" class="bridgehead">1. Designate Containers</h7><p>To set up, decide which containers should be excluded from automatic monitoring.</p><p>Note the image, name, label, or Kubernetes pod information as appropriate, and build your rule set accordingly.</p><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-2EdittheAgentConfiguration1" class="bridgehead">2. Edit the Agent Configuration</h7><p>For example:</p><pre class="programlisting">use_container_filter: true

container_filter:
  - include:
      container.name: my-app
  - include:
      container.label.com.sysdig.report: true
  - exclude:
      kubernetes.namespace.name: kube-system
      container.image: "gcr.io*"
  - include:
      all</pre><p>The above example shows a <code class="code">container_filter</code> with 3 include rules and 1 exclude rule.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If the container name is "<code class="code">my-app</code>" it will be included.</p></li><li class="listitem"><p>Likewise, if the container has a label with the key "<code class="code">com.sysdig.report</code>" and with the value "<code class="code">true</code>".</p></li><li class="listitem"><p>If neither of those rules is true, and the container is part of a Kubernetes hierarchy within the "<code class="code">kube-system</code>" namespace and the container image starts with "<code class="code">gcr.io</code>", it will be excluded.</p></li><li class="listitem"><p>The last rule includes all, so any containers not matching an earlier rule will be monitored and metrics for them will be sent to the backend.</p></li></ul></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-UseSmartContainerReporting" class="bridgehead">Use Smart Container Reporting</h7><p>As of &lt;agent version ??&gt; you can add another parameter to the config file: <code class="code">smart_container_reporting = true</code> </p><p>This enables several new prioritization checks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>container_filter (you would enable and set include/exclude rules, as described above)</p></li><li class="listitem"><p>container age</p></li><li class="listitem"><p>high stats</p></li><li class="listitem"><p>legacy patterns</p></li></ul></div><p>The sort is modified with the following rules in priority order:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>User-specified containers come before others</p></li><li class="step"><p>Containers reported previously should be reported before those which have never been reported</p></li><li class="step"><p>Containers with higher usage by each of the 4 default stats should come before those with lower usage</p></li></ol></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-EnableSmartContainerReportingandsysdig_aggregated" class="bridgehead">Enable Smart Container Reporting and sysdig_aggregated</h7><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Set up any simple container filtering rules you need, following either <a class="link" href="">Option 1</a> or <a class="link" href="">Option 2</a>, above.</p></li><li class="step"><p>Edit the agent configuration:</p><pre class="programlisting">smart_container_reporting: true</pre></li><li class="step"><p>This turns on both <code class="code">smart_container_reporting</code> and <code class="code">sysdig_aggregated</code>. The changes will be visible in the Sysdig Monitor UI.</p><p>See also <a class="link" href="17734---sysdig_aggregated-container-metrics--.html" title="**Sysdig_aggregated Container Metrics**">**Sysdig_aggregated Container Metrics**</a>..</p></li></ol></div><h7 id="UUID-ee904ec5-8cdd-c5c1-9e68-72a6729943f8_id_id-PrioritizeIncludeExcludeDesignatedContainers-Logging" class="bridgehead">Logging</h7><p>When the log level is set to DEBUG, the following messages may be found in the logs:</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col></colgroup><thead><tr><th class="th"><p>message</p></th><th class="th"><p>meaning</p></th></tr></thead><tbody><tr><td class="td"><p>container &lt;id&gt;, no filter configured</p></td><td class="td"><p>container filtering is not enabled</p></td></tr><tr><td class="td"><p>container &lt;id&gt;, include in report</p></td><td class="td"><p>container is included</p></td></tr><tr><td class="td"><p>container &lt;id&gt;, exclude in report</p></td><td class="td"><p>container is excluded</p></td></tr><tr><td class="td"><p>Not reporting thread &lt;thread-id&gt; in container &lt;id&gt;</p></td><td class="td"><p>Process thread is excluded</p></td></tr></tbody></table></div><p>See also: <a class="link" href="17737-optional--change-the-agent-log-level.html" title="Optional: Change the Agent Log Level">Optional: Change the Agent Log Level</a>.</p></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17731-disable-captures.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17734---sysdig_aggregated-container-metrics--.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2019 Sysdig </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
