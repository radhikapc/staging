<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>OpenID Connect (On-Prem)</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5d6593bb1e613.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/hilitor.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="17683-onelogin--saml-on-prem-.html" title="OneLogin (SAML On-Prem)"></link><link rel="next" href="17686-okta--openid-on-prem-.html" title="Okta (OpenID On-Prem)"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script>
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="17625-sysdig-platform.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7f578b2-c960-970c-a969-10cebb31d199" data-permalink="17625-sysdig-platform.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Platform</a><ul><li><a href="17626-on-premises-deployments.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b0fbda15-008f-f5ef-e82b-44edcdbddf2f" data-permalink="17626-on-premises-deployments.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> On-Premises Deployments</a><ul><li><a href="17627-architecture---system-requirements.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cd539f11-f1ce-b46c-2e31-33817e7fbcfe" data-permalink="17627-architecture---system-requirements.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Architecture &amp; System Requirements</a></li><li><a href="17636-on-premises-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-f3f2b80c-ab17-0417-e900-5e28acb4e13d" data-permalink="17636-on-premises-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Installation</a></li><li><a href="17660-on-premises-upgrades.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-56e8e98a-2ab4-6b39-ba6e-35eee1e169cc" data-permalink="17660-on-premises-upgrades.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Upgrades</a></li><li><a href="17672-find-the-super-admin-credentials-and-api-token.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cb40fc4f-b85a-8739-4a4e-0a9009419723" data-permalink="17672-find-the-super-admin-credentials-and-api-token.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find the Super Admin Credentials and API Token</a></li><li><a href="17674-upgrade-an-on-premises-license.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ec730506-5804-f830-4a75-644e44406dff" data-permalink="17674-upgrade-an-on-premises-license.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Upgrade an On-Premises License</a></li><li><a href="17675-securing-elasticsearch.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e5a2a6fa-12cf-e145-8643-4d17b5e5e809" data-permalink="17675-securing-elasticsearch.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Elasticsearch</a></li><li><a href="17677-securing-cassandra.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-e0ca8e47-108a-cdd2-9661-7a7a53b9da47" data-permalink="17677-securing-cassandra.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Cassandra</a></li><li><a href="17678-authentication-and-authorization--on-prem-options-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-059259c5-41cc-52f1-27db-8692bce591a4" data-permalink="17678-authentication-and-authorization--on-prem-options-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (On-Prem Options)</a></li><li><a href="17700---backup-and-restore-best-practices--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-86ef3d03-037d-7aac-2390-c43096ed0cde" data-permalink="17700---backup-and-restore-best-practices--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Backup and Restore Best Practices**</a></li></ul></li><li><a href="17701-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ee770b85-3c82-28cf-48e0-a38a6f973bc1" data-permalink="17701-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Agent</a><ul><li><a href="17703-host-requirements-for-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-813a9695-5e30-e72f-2e2c-26c84ddecb33" data-permalink="17703-host-requirements-for-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Host Requirements for Agent Installation</a></li><li><a href="17705-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1bbdf1e4-3277-cf2c-d247-de7a1d067e70" data-permalink="17705-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation</a></li><li><a href="17720-agent-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5595fb10-5c8e-1d38-1652-275b75d701cf" data-permalink="17720-agent-configuration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Configuration</a></li><li><a href="17740-agent-upgrade.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a2991ad8-39da-4686-6ca1-d0838e93e523" data-permalink="17740-agent-upgrade.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Upgrade</a></li><li><a href="17741---agent-stop---start---disable---remove.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-34276f78-88ad-274e-0736-c6ccf91b5aaa" data-permalink="17741---agent-stop---start---disable---remove.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Agent Stop | Start | Disable | Remove</a></li><li><a href="17742-agent-uninstall.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ead96597-570b-8e87-7eef-ce217e0b7b3b" data-permalink="17742-agent-uninstall.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Uninstall</a></li><li><a href="17744-troubleshooting-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-4c9eb77e-478d-6fe5-84d3-3e8f86cd8cb7" data-permalink="17744-troubleshooting-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Troubleshooting Agent Installation</a></li><li><a href="17745---copy-of-host-requirements-for-agent-installation--.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5fed75f2-49db-93e2-69e1-12a3100c50c6" data-permalink="17745---copy-of-host-requirements-for-agent-installation--.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Copy of Host Requirements for Agent Installation**</a></li></ul></li><li><a href="17746-administration-settings.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-79535d85-dcdb-4dfd-1b55-de1edacb346d" data-permalink="17746-administration-settings.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Administration Settings</a><ul><li><a href="17748-user-profile-and-password.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-07096ea3-1ed7-934f-683e-9d0000edc6f7" data-permalink="17748-user-profile-and-password.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User Profile and Password</a></li><li><a href="17750-user-and-team-administration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-c24fe2df-c073-159f-5ad6-cd18bc15c2d3" data-permalink="17750-user-and-team-administration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User and Team Administration</a></li><li><a href="17755-notifications-management.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-156d27b4-e0d2-ec69-bac9-5ec0500ca128" data-permalink="17755-notifications-management.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Notifications Management</a></li><li><a href="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-6d00fdd3-1f49-e49e-bb0b-556c377d07ac" data-permalink="17768-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">AWS: Integrate AWS Account and CloudWatch Metrics (Optional)</a></li><li><a href="17771-storage--configure-aws-capture-file-storage--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d7ff24b5-cfc5-ac9d-767d-ef7dc9d2d9c5" data-permalink="17771-storage--configure-aws-capture-file-storage--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Storage: Configure AWS Capture File Storage (Optional)</a></li><li><a href="17772-find-your-customer-number.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-703bf9f7-20e0-a6e2-cecc-f5a66cbcd977" data-permalink="17772-find-your-customer-number.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find Your Customer Number</a></li><li><a href="17774-agent-installation--overview-and-key.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2d64062a-c3ab-484f-5b45-3b0ef8b3b5b8" data-permalink="17774-agent-installation--overview-and-key.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation: Overview and Key</a></li><li><a href="17775-subscription--change-number-of-licensed-agents.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5d8a57ce-6bd9-b5f6-6460-17b233e4facc" data-permalink="17775-subscription--change-number-of-licensed-agents.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Subscription: Change Number of Licensed Agents</a></li><li><a href="17779-authentication-and-authorization--saas-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-91fa12e3-2fc9-97ab-1bf8-6d9830e4ad84" data-permalink="17779-authentication-and-authorization--saas-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (SaaS)</a></li></ul></li><li><a href="17794-get-help---using-sysdig-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-712b3b75-2584-30e3-5bd9-e1e57d3d8756" data-permalink="17794-get-help---using-sysdig-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Get Help | Using Sysdig Support</a><ul><li><a href="17795-self-help.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-39aa92d8-58c3-29d4-582f-4561a368c52f" data-permalink="17795-self-help.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Self-Help</a></li><li><a href="17797-contact-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-65fd6b5e-1ab7-6714-888b-95192ae78a5d" data-permalink="17797-contact-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Contact Support</a></li><li><a href="17802-terms-of-use.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-b854f38e-12bc-b1af-1c03-372f7a4234d1" data-permalink="17802-terms-of-use.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Terms of Use</a></li></ul></li></ul></li></ul></aside><div class="site-content"><h1 class="publication-title">SP (Sysdig Platform)</h1><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17683-onelogin--saml-on-prem-.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17686-okta--openid-on-prem-.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <span class="current-category">SP (Sysdig Platform)</span></li><li class="breadcrumb-link"><a href="17625-sysdig-platform.html">Sysdig Platform</a></li><li class="breadcrumb-link"><a href="17626-on-premises-deployments.html">On-Premises Deployments</a></li><li class="breadcrumb-link"><a href="17678-authentication-and-authorization--on-prem-options-.html">Authentication and Authorization (On-Prem Options)</a></li><li class="breadcrumb-node">OpenID Connect (On-Prem)</li></ul></div><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-ccc88095-7bef-ab80-7cb4-01fdf353b2a7" data-permalink="17685-openid-connect--on-prem-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">OpenID Connect (On-Prem)</h1></div></div></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>These instructions are specific to <a class="link" href="17626-on-premises-deployments.html" title="On-Premises Deployments">On-Premises Deployments</a> of the Sysdig platform. If you are using the cloud-based (SaaS) Sysdig platform, refer to <a class="link" href="17789-openid-connect--saas-.html" title="OpenID Connect (SaaS)">OpenID Connect (SaaS)</a> instead.</p></div><p> <a class="link" href="https://openid.net/what-is-openid/" target="_blank">OpenID</a> support in the Sysdig platform allows authentication via your choice of <a class="link" href="https://en.wikipedia.org/wiki/Identity_provider" target="_blank">Identity Provider (IdP)</a>.</p><p>This section describes how to integrate and enable OpenID Connect with both Sysdig Monitor and Sysdig Secure.</p><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-Overview" class="bridgehead">Overview</h6><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-SummaryofOpenIDFunctionalityinSysdig" class="bridgehead">Summary of OpenID Functionality in Sysdig</h6><p>The Sysdig platform ordinarily maintains its own user database to hold a username and password hash. OpenID instead allows for redirection to your organization's IdP to validate username/password and other policies necessary to grant access to Sysdig application(s). Upon successful authentication via OpenID, a corresponding user record in the Sysdig platform’s user database is automatically created, though the password that was sent to the IdP is never seen nor stored by the Sysdig platform.</p><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-BasicEnablementWorkflow" class="bridgehead">Basic Enablement Workflow</h6><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col><col></col></colgroup><thead><tr><th class="th"><p>Step</p></th><th class="th"><p>Options</p></th><th class="th"><p>Notes</p></th></tr></thead><tbody><tr><td class="td"><p> <span class="bold bold"><strong>1. Know which IdP your company uses and will be configuring.</strong></span> </p></td><td class="td"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="17686-okta--openid-on-prem-.html" title="Okta (OpenID On-Prem)">Okta (OpenID On-Prem)</a> </p></li><li class="listitem"><p> <a class="link" href="17688-onelogin--openid-on-prem-.html" title="OneLogin (OpenID On-Prem)">OneLogin (OpenID On-Prem)</a> </p></li><li class="listitem"><p> <a class="link" href="17689-keycloak--openid-on-prem-.html" title="Keycloak (OpenID On-Prem)">Keycloak (OpenID On-Prem)</a> </p></li></ul></div></td><td class="td"><p>These are the OpenID Providers for which Sysdig has performed detailed interoperability testing and confirmed how to integrate using their standard docs. If your OpenID Provider is not listed (including ones that do not support <a class="link" href="https://openid.net/specs/openid-connect-discovery-1_0.html" target="_blank">OpenID Connect Discovery</a>), it may still work with the Sysdig platform. Contact Sysdig Support for help.</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>2. Decide the login flow you want users to experience: 3 options</strong></span> </p></td><td class="td"><p>Click OpenID button</p></td><td class="td"><p>From <span class="bold bold"><strong> <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://HOSTNAME/" target="_blank">https://HOSTNAME/</a> </code> </strong></span> </strong></span> or <span class="bold bold"><strong> <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://HOSTNAME/" target="_blank">https://HOSTNAME/secure</a> </code> </strong></span> </strong></span> </p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="70px"><tr><td><img src="image/uuid-ef08a861-8c92-b991-1895-6e9dcd507b81-en.png" style="max-width: 70px; " alt="373574065.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="74px"><tr><td><img src="image/uuid-73a1c581-d7e9-d9f2-99b8-a3fe1039ce2d-en.png" style="max-width: 74px; " alt="373574059.png"></img></td></tr></table></div></td></tr><tr><td class="td"></td><td class="td"><p>Type/bookmark a URL in browser</p></td><td class="td"><p> <span class="bold bold"><strong>Monitor:</strong></span> <code class="code"> <a class="link" href="https://HOSTNAME/api/oauth/openid" target="_blank">https://HOSTNAME/api/oauth/openid</a> </code> <code class="code"></code> <span class="bold bold"><strong>Secure: </strong></span> <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://HOSTNAME/api/oauth/openid" target="_blank">https://HOSTNAME/api/oauth/openid</a>?product=SDS</code> </strong></span> <code class="code"></code> </p></td></tr><tr><td class="td"></td><td class="td"><p>Log in from an IdP interface</p></td><td class="td"><p>The individual IdP integration pages describe how to add Sysdig to the IdP interface.</p><p>You will need your <a class="link" href="https://sysdigdocs.atlassian.net/wiki/spaces/Platform/pages/208994483/Find+Your+Customer+Number" target="_blank">Sysdig customer number</a> on hand.</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>3. Perform the configuration steps in your IdP interface and collect the resulting config attributes.</strong></span> </p></td><td class="td"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="17686-okta--openid-on-prem-.html" title="Okta (OpenID On-Prem)">Okta (OpenID On-Prem)</a> </p></li><li class="listitem"><p> <a class="link" href="17688-onelogin--openid-on-prem-.html" title="OneLogin (OpenID On-Prem)">OneLogin (OpenID On-Prem)</a> </p></li><li class="listitem"><p> <a class="link" href="17689-keycloak--openid-on-prem-.html" title="Keycloak (OpenID On-Prem)">Keycloak (OpenID On-Prem)</a> </p></li></ul></div></td><td class="td"><p>Collect metadata URL (or XML) and test it.</p><p>If you intend to configure IDP-initiated login flow, <a class="link" href="17772-find-your-customer-number.html" title="Find Your Customer Number">Find Your Customer Number</a> and have it on hand. It will be referenced in later configuration steps as <code class="code">CUSTOMER_ID_NUMBER</code>.</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>4a. Log in to Sysdig Monitor <code class="code">Settings</code> <a class="link" href="">(as super admin)</a> and enter the necessary configuration information in the UI. <code class="code">Save</code> and <code class="code">Enable OpenID</code> as your SSO.</strong></span> </p><p> <span class="bold bold"><strong>4b. Configure settings for Sysdig Secure using scripts.</strong></span> </p></td><td class="td"></td><td class="td"><p>4a. Sysdig Monitor only</p><p>4b. Sysdig Monitor (optional) or Sysdig Secure</p></td></tr></tbody></table></div><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-AdministratorSteps" class="bridgehead">Administrator Steps</h6><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-ConfigureIdP" class="bridgehead">Configure IdP</h6><p>Select the appropriate IdP link below, and follow the instructions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <a class="link" href="17686-okta--openid-on-prem-.html" title="Okta (OpenID On-Prem)">Okta (OpenID On-Prem)</a> </p></li><li class="listitem"><p> <a class="link" href="17688-onelogin--openid-on-prem-.html" title="OneLogin (OpenID On-Prem)">OneLogin (OpenID On-Prem)</a> </p></li><li class="listitem"><p> <a class="link" href="17689-keycloak--openid-on-prem-.html" title="Keycloak (OpenID On-Prem)">Keycloak (OpenID On-Prem)</a> </p></li></ul></div><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-UI-BasedConfigureOpenIDinSettingsMonitorOnly" class="bridgehead">UI-Based: Configure OpenID in Settings (Monitor Only)</h6><p>At this time, the Authorization UI is available only for Sysdig Monitor.</p><p>To enable baseline OpenID functionality:</p><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-EnterOpenIDBasicConnectionSettings" class="bridgehead">Enter OpenID Basic Connection Settings</h6><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Log in to Sysdig Monitor or Sysdig Secure as administrator and select <code class="code">Settings. <div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="250px"><tr style="height: 60px"><td><img src="image/uuid-0bbfab48-4766-aef0-fa8d-c651e0b20fab-en.png" style="max-width: 250px; max-height: 60px; " alt="373574053.png"></img></td></tr></table></div></code> </p></li><li class="step"><p>Select <code class="code">Authentication</code>.</p></li><li class="step"><p>Select the <code class="code">OpenID</code> tab.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="800px"><tr><td><img src="image/uuid-e3539b58-fbac-fd70-270d-9f13c8530215-en.png" style="max-width: 800px; " alt="373574047.png"></img></td></tr></table></div></li><li class="step"><p>Enter the relevant parameters (see table below) and click <code class="code">Save</code>.</p></li></ol></div><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col></colgroup><thead><tr><th class="th"><p>Connection Setting</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p> <span class="bold bold"><strong>Client ID</strong></span> </p></td><td class="td"><p>ID provided by your IdP</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>Client Secret</strong></span> </p></td><td class="td"><p>Secret provided by your IdP</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>Issuer URL </strong></span> </p></td><td class="td"><p>URL provided by your IdP. Example:<code class="code"> <a class="link" href="https://YOUR-ONELOGIN-DOMAIN.onelogin.com/oidc" target="_blank">https://YOUR-ONELOGIN-DOMAIN.onelogin.com/oidc</a> </code> </p></td></tr></tbody></table></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>Okta, OneLogin, and Keycloak support metadata auto-discovery, so these settings should be sufficient for those IdPs.</p></div><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-EnterOpenIDAdditionalSettingsifneeded" class="bridgehead">Enter OpenID Additional Settings (if needed)</h6><p>In some cases, an OpenID IdP may not support metadata auto-discovery, and additional configuration settings must be entered manually.</p><p>In this case:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>On the OpenID tab, toggle the <code class="code">Metadata Discovery</code> button to <code class="code">OFF</code> to display additional entries on the page.</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;" width="550px"><tr><td><img src="image/uuid-c791b766-09b3-24a2-9493-0e306429f27b-en.png" style="max-width: 550px; " alt="373574041.png"></img></td></tr></table></div></li><li class="step"><p>Enter the relevant parameters derived from your IdP (see table below) and click <code class="code">Save</code>.</p></li></ol></div><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col></colgroup><thead><tr><th class="th"><p>Connection Setting</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p> <span class="bold bold"><strong>Base Issuer</strong></span> </p></td><td class="td"><p>Required. Often the same <span class="bold bold"><strong>Issuer URL</strong></span>, but can be different for providers that have a separate general domain and user-specific domain</p><p>(for example, general domain: <a class="link" href="https://openid-connect.onelogin.com/oidc" target="_blank">https://openid-connect.onelogin.com/oidc</a>, user-specific domain: <a class="link" href="https://sysdig-phil-dev.onelogin.com/oidc" target="_blank">https://sysdig-phil-dev.onelogin.com/oidc</a>)f</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>Authorization Endpoint</strong></span> </p></td><td class="td"><p>Required. Authorization request endpoint</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>Token Endpoint</strong></span> </p></td><td class="td"><p>Required. Token exchange endpoint</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>JSON Web Key Set Endpoint</strong></span> </p></td><td class="td"><p>Required. Endpoint that contains key credentials for token signature verification</p></td></tr><tr><td class="td"><p> <span class="bold bold"><strong>Token Auth Method</strong></span> </p></td><td class="td"><p>Authentication method.</p><p>Supported values:</p><p> <span class="bold bold"><strong> <code class="code">client_secret_basic</code> </strong></span>,</p><p> <span class="bold bold"><strong> <code class="code">client_secret_post</code> </strong></span>. (case insensitive)</p></td></tr></tbody></table></div><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-SelectOpenIDforSSO" class="bridgehead">Select OpenID for SSO</h6><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Select <code class="code">OpenID</code>from the <span class="bold bold"><strong> <code class="code">Enabled Single Sign-On </code> </strong></span>dropdown.</p></li><li class="step"><p>Click <code class="code">Save </code> <span class="bold bold"><strong>Authentication</strong></span>.</p></li></ol></div><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-Script-BasedConfigureOpenIDUsingScriptsMonitororSecure" class="bridgehead">Script-Based: Configure OpenID Using Scripts (Monitor or Secure)</h6><p>The configuration of the OpenID Connect feature can be viewed, updated, and deleted by the <a class="link" href="17672-find-the-super-admin-credentials-and-api-token.html" title="Find the Super Admin Credentials and API Token">"super" Admin</a>. An <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://github.com/draios/sysdig-cloud-scripts/blob/master/SSO/OpenID_Connect/oidc_config.sh" target="_blank">oidc_config.sh</a> </code> </strong></span> helper script is available in the <a class="link" href="https://github.com/draios/sysdig-cloud-scripts/tree/master/SSO" target="_blank"> <span class="bold bold"><strong>SSO</strong></span> </a> folder at <span class="bold bold"><strong> <code class="code">sysdig-cloud-scripts</code> </strong></span> repository to assist in completing this configuration. Invoking the script with no options will display help text.</p><pre class="programlisting"># ./oidc_config.sh
Must specify the Sysdig App whose OpenID Connect configuration will be viewed/set

Usage: ./oidc_config.sh [OPTIONS]

Affect OpenID Connect login settings for your Sysdig software platform installation
</pre><p>To use the helper script, modify <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://github.com/draios/sysdig-cloud-scripts/blob/master/SSO/env.sh" target="_blank">env.sh</a> </code> </strong></span> to set the required values for <span class="bold bold"><strong> <code class="code">API_TOKEN</code> </strong></span> of the "super" Admin user and the <span class="bold bold"><strong> <code class="code">URL</code> </strong></span> for accessing the Sysdig platform API (which will be the same URL that your users access for the Sysdig Monitor application).</p><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>Depending if the API_TOKEN has been obtained from the Sysdig Monitor or Sysdig Secure application UI, the settings will be applied to the consequent product.</p></div><p>Initially no OpenID settings are set. A initial run of the script would confirm that:</p><pre class="programlisting"># ./oidc_config.sh
No openid settings are set
Run for further info: ./oidc_config.sh -h

</pre><p>Add the <span class="bold bold"><strong> <code class="code">-s</code> </strong></span> option to set the OpenID Connect configuration for a particular Sysdig application. When setting the config, you'll use additional options to provide the config details you saved in the earlier OpenID Provider configuration step.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><colgroup><col></col><col></col></colgroup><thead><tr><th class="th"><p>Config Detail</p></th><th class="th"><p>Option</p></th></tr></thead><tbody><tr><td class="td"><p>Issuer URL</p></td><td class="td"><p> <span class="bold bold"><strong> <code class="code">-u</code> </strong></span> </p></td></tr><tr><td class="td"><p>Client ID</p></td><td class="td"><p> <span class="bold bold"><strong> <code class="code">-i</code> </strong></span> </p></td></tr><tr><td class="td"><p>Client Secret</p></td><td class="td"><p> <span class="bold bold"><strong> <code class="code">-e</code> </strong></span> </p></td></tr></tbody></table></div><p>If the configuration is successfully posted to the Sysdig platform, the new configuration will be echoed back.</p><p>An example of creating the two separate OpenID Connect configurations for both Monitor and Secure, each using Okta as an OpenID Provider:</p><pre class="programlisting"># ./oidc_config.sh -s -u https://dev-824158.oktapreview.com -i 0oafpykpv7JMS4gMe0h7 -e ZctTGJMNJmuseEJHJGhvnb0pniZvz9Gf6RStxhHn
{
  "authenticationSettings": {
    "id": 1,
    "version": 1,
    "createdOn": 1547541009000,
    "type": "openid",
    "scope": "SYSTEM",
    "settings": {
      "issuer": "https://dev-824158.oktapreview.com",
      "clientId": "0oafpykpv7JMS4gMe0h7",
      "clientSecret": "ZctTGJMNJmuseEJHJGhvnb0pniZvz9Gf6RStxhHn",
      "metadataDiscovery": true
    }
  }
}</pre><p>Once you've completed this configuration, clicking the OpenID button at the login screen of the appropriate Sysdig application(s) should redirect to your OpenID Provider for authentication.</p><p>If you wish to delete your OpenID Connect configuration, invoke the <span class="bold bold"><strong> <code class="code">-d</code> </strong></span> option. If successful, the disabled configuration will be printed.</p><pre class="programlisting">./oidc_config.sh -d
{
  "authenticationSettings": {
    "id": 1,
    "version": 1,
    "createdOn": 1547541009000,
    "type": "openid",
    "scope": "SYSTEM",
    "settings": {
      "issuer": "https://dev-824158.oktapreview.com",
      "clientId": "0oafpykpv7JMS4gMe0h7",
      "clientSecret": "ZctTGJMNJmuseEJHJGhvnb0pniZvz9Gf6RStxhHn",
      "metadataDiscovery": true
    }
  }
}</pre><h6 id="UUID-fa20089b-08b8-fd3c-ff36-2f1400d6e678_id_OpenIDConnectOn-Prem-UserExperience" class="bridgehead">User Experience</h6><p>As noted in the <a class="link" href="">OpenID Connect (On-Prem)#Basic Enablement Workflow</a> above, you can offer users three ways to log in with a OpenID configuration:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>They can begin at the Sysdig SaaS URL and click the OpenID button.</p><p>Monitor: <a class="link" href="https://app.sysdigcloud.com/" target="_blank">https://HOSTNAME/</a> or Secure: <a class="link" href="https://secure.sysdig.com" target="_blank">https://HOSTNAME/secure</a> .</p><p>They will be prompted to enter a Company Name, so the Sysdig platform can redirect the browser to your IdP for authentication.</p><p>=</p><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;"><tr style="height: 250px"><td><img src="image/uuid-ef08a861-8c92-b991-1895-6e9dcd507b81-en.png" style="max-height: 250px; " alt="373574065.png"></img></td></tr></table></div><div class="mediaobject"><table border="0" class="image-viewport" style="cellpadding: 0; cellspacing: 0;"><tr style="height: 250px"><td><img src="image/uuid-73a1c581-d7e9-d9f2-99b8-a3fe1039ce2d-en.png" style="max-height: 250px; " alt="373574059.png"></img></td></tr></table></div></li><li class="listitem"><p>You can provide an alternative URL to avoid the user having to enter a company name, in the format:</p><p> <span class="bold bold"><strong>Monitor:</strong></span> <code class="code"> <a class="link" href="https://HOSTNAME/api/oauth/openid" target="_blank">https://HOSTNAME/api/oauth/openid</a> </code> <code class="code"></code> <span class="bold bold"><strong>Secure: </strong></span> <span class="bold bold"><strong> <code class="code"> <a class="link" href="https://HOSTNAME/api/oauth/openid" target="_blank">https://HOSTNAME/api/oauth/openid</a>?product=SDS</code> </strong></span> </p></li><li class="listitem"><p>You can configure an IdP-initiated login flow when configuring your IdP. The users then select the Sysdig application from your IDP's app directory and do not browse directly to a Sysdig application URL at all.</p></li></ul></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>See also <a class="link" href="17750-user-and-team-administration.html" title="User and Team Administration">User and Team Administration</a> for information on creating users.</p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> Overview </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> Summary of OpenID Functionality in Sysdig </p></li><li class="listitem"><p> Basic Enablement Workflow </p></li></ul></div></li><li class="listitem"><p> Administrator Steps  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p> Configure IdP  </p></li><li class="listitem"><p> UI-Based: Configure OpenID in Settings (Monitor Only) </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p> Enter OpenID Basic Connection Settings </p></li><li class="listitem"><p> Enter OpenID Additional Settings (if needed)  </p></li><li class="listitem"><p> Select OpenID for SSO  </p></li></ul></div></li><li class="listitem"><p> Script-Based: Configure OpenID Using Scripts (Monitor or Secure)  </p></li></ul></div></li><li class="listitem"><p> User Experience </p></li></ul></div></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="17683-onelogin--saml-on-prem-.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="17686-okta--openid-on-prem-.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2019 Sysdig </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
