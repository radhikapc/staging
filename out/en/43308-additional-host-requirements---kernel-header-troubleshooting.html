<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta charset="UTF-8"></meta><meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700|Material+Icons" rel="stylesheet"></link><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Additional Host Requirements &amp; Kernel Header Troubleshooting</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/5d6593bb1e613.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/hilitor.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xlink="http://www.w3.org/1999/xlink" name="generator" content="Paligo"></meta><link rel="prev" href="43298-host-requirements-for-agent-installation.html#UUID-7982905d-57f6-5b5c-0433-3633f6106bec_UUID-4a5e149f-745c-8acb-441c-4a6798e797fc" title="See Also"></link><link rel="next" href="43308-additional-host-requirements---kernel-header-troubleshooting.html#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-f0618923-56e3-855d-0e1c-d4c9c1358efa" title="Additional Requirements"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script>
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				$('.materialboxed').materialbox();
				});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {
				/**
				 * @type {array}
				 */
				var supported = hljs.listLanguages();

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}

					if (language && $.inArray(language, supported) > -1) {
						var c = hljs.highlight(language, $(this).text());
						$(this)
							.empty()
							.append(c.value)
							.addClass("hljs")
							.addClass(c.language);
					} else {
						hljs.highlightBlock(this);
					}
				});
			});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><ul class="toc nav nav-site-sidebar"><li><a href="43019-sysdig-platform.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2aec11a7-27eb-167a-dfc2-d868c58604cd" data-permalink="43019-sysdig-platform.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Platform</a><ul><li><a href="43026-on-premises-deployments.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-3967fd02-70a8-134b-394b-cace7214ff6d" data-permalink="43026-on-premises-deployments.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> On-Premises Deployments</a><ul><li><a href="43027-architecture---system-requirements.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-dec254a6-b961-0e73-3f01-20f689cf90e3" data-permalink="43027-architecture---system-requirements.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Architecture &amp; System Requirements</a></li><li><a href="43049-on-premises-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-db1188d3-a7ec-15df-c6cf-67e07a21b18b" data-permalink="43049-on-premises-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Installation</a></li><li><a href="43140-on-premises-upgrades.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5d758c36-dfff-2452-850d-9ed2a4371f81" data-permalink="43140-on-premises-upgrades.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">On-Premises Upgrades</a></li><li><a href="43209-find-the-super-admin-credentials-and-api-token.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-8dab9961-ec84-3db6-d190-6869ea677fc0" data-permalink="43209-find-the-super-admin-credentials-and-api-token.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find the Super Admin Credentials and API Token</a></li><li><a href="43212-upgrade-an-on-premises-license.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7887f7e8-616a-7c82-1e15-4faca9d5c58f" data-permalink="43212-upgrade-an-on-premises-license.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Upgrade an On-Premises License</a></li><li><a href="43217-securing-elasticsearch.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-98444088-953d-f9e0-cccd-ae3d2cabdc82" data-permalink="43217-securing-elasticsearch.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Elasticsearch</a></li><li><a href="43222-securing-cassandra.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-d6bd8eba-9fca-4113-e123-10a2f1a3a374" data-permalink="43222-securing-cassandra.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Securing Cassandra</a></li><li><a href="43230-authentication-and-authorization--on-prem-options-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-648140d5-4cd3-49eb-c672-21e00ae3296c" data-permalink="43230-authentication-and-authorization--on-prem-options-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (On-Prem Options)</a></li></ul></li><li><a href="43297-sysdig-agent.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2b34ba9d-6b45-4d57-a133-ae54d956ee58" data-permalink="43297-sysdig-agent.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Sysdig Agent</a><ul><li><a href="43298-host-requirements-for-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cc64bfae-70f3-b2d6-42d6-cf84ccf5abaf" data-permalink="43298-host-requirements-for-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Host Requirements for Agent Installation</a></li><li><a href="43317-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-ef0cd1a8-cec3-1ed9-65b7-d2b61ce9d78f" data-permalink="43317-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation</a></li><li><a href="43391-agent-configuration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-07369059-d819-881f-183c-902f87b1b917" data-permalink="43391-agent-configuration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Configuration</a></li><li><a href="43450-agent-upgrade.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-551eb1f0-de5e-9917-527e-ed2d7183b2b5" data-permalink="43450-agent-upgrade.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Upgrade</a></li><li><a href="43457---agent-stop---start---disable---remove.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-3031a485-9dec-0547-24e6-5f1e9967311f" data-permalink="43457---agent-stop---start---disable---remove.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">**Agent Stop | Start | Disable | Remove</a></li><li><a href="43467-agent-uninstall.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-3ccccaf4-45c2-3331-6fad-0829e683559c" data-permalink="43467-agent-uninstall.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Uninstall</a></li><li><a href="43470-troubleshooting-agent-installation.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-442c725a-6fb0-c992-9d42-1e253ac3d09d" data-permalink="43470-troubleshooting-agent-installation.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Troubleshooting Agent Installation</a></li></ul></li><li><a href="43478-administration-settings.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-1fced76a-c05c-a3dd-6965-ac6271a0c4b0" data-permalink="43478-administration-settings.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Administration Settings</a><ul><li><a href="43481-user-profile-and-password.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-68bae3d5-4e67-564d-a56f-36849de2841e" data-permalink="43481-user-profile-and-password.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User Profile and Password</a></li><li><a href="43489-user-and-team-administration.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-00849bf9-2afa-6f2d-7293-ccb78c36cded" data-permalink="43489-user-and-team-administration.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">User and Team Administration</a></li><li><a href="43512-notifications-management.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-53d9d5a5-68f8-e49a-3dd2-ec0444ad3597" data-permalink="43512-notifications-management.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Notifications Management</a></li><li><a href="43548-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-5c2df7a4-a53f-28fd-1303-29a41a587a6f" data-permalink="43548-aws--integrate-aws-account-and-cloudwatch-metrics--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">AWS: Integrate AWS Account and CloudWatch Metrics (Optional)</a></li><li><a href="43563-storage--configure-aws-capture-file-storage--optional-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-bdc495d5-e851-5fb6-ed62-07eb12e45024" data-permalink="43563-storage--configure-aws-capture-file-storage--optional-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Storage: Configure AWS Capture File Storage (Optional)</a></li><li><a href="43568-find-your-customer-number.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-7e5c73de-e0be-9643-6660-81ee98d1dee6" data-permalink="43568-find-your-customer-number.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Find Your Customer Number</a></li><li><a href="43569-agent-installation--overview-and-key.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-8abc0bd0-5c58-5ddf-3912-b84f3e85b884" data-permalink="43569-agent-installation--overview-and-key.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Agent Installation: Overview and Key</a></li><li><a href="43571-subscription--change-number-of-licensed-agents.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-aa6b5487-52a8-155d-a66f-bb4123d2a4fe" data-permalink="43571-subscription--change-number-of-licensed-agents.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Subscription: Change Number of Licensed Agents</a></li><li><a href="43579-authentication-and-authorization--saas-.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-a01b3e9a-2bed-30ad-b321-61f47790c80e" data-permalink="43579-authentication-and-authorization--saas-.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Authentication and Authorization (SaaS)</a></li></ul></li><li><a href="43623-get-help---using-sysdig-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-cfa5bd5d-97db-98f6-7a2f-e76376c865d7" data-permalink="43623-get-help---using-sysdig-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date=""><span class="glyphicon"></span> Get Help | Using Sysdig Support</a><ul><li><a href="43624-self-help.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-2a9e92b7-a64a-9fe3-9ee7-cc7e463c590a" data-permalink="43624-self-help.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Self-Help</a></li><li><a href="43638-contact-support.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-716a9a89-2ea4-0e43-8643-902620732467" data-permalink="43638-contact-support.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Contact Support</a></li><li><a href="43658-terms-of-use.html" class="topic-link section original-topic lang-en original-topic" data-origin-id="UUID-8f7aed46-3390-e0a1-5227-8b693b2c9acb" data-permalink="43658-terms-of-use.html" data-topic-level="1" data-relative-prefix="" data-publication-date="">Terms of Use</a></li></ul></li></ul></li></ul></aside><div class="site-content"><h1 class="publication-title">Sysdig Platform</h1><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="43298-host-requirements-for-agent-installation.html#UUID-7982905d-57f6-5b5c-0433-3633f6106bec_UUID-4a5e149f-745c-8acb-441c-4a6798e797fc">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="43308-additional-host-requirements---kernel-header-troubleshooting.html#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-f0618923-56e3-855d-0e1c-d4c9c1358efa">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <span class="current-category">Sysdig Platform</span></li><li class="breadcrumb-link"><a href="43019-sysdig-platform.html">Sysdig Platform</a></li><li class="breadcrumb-link"><a href="43297-sysdig-agent.html">Sysdig Agent</a></li><li class="breadcrumb-link"><a href="43298-host-requirements-for-agent-installation.html">Host Requirements for Agent Installation</a></li><li class="breadcrumb-node">Additional Host Requirements &amp; Kernel Header Troubleshooting</li></ul></div><section xml:lang="en" dir="ltr" class="section original-topic lang-en original-topic" data-origin-id="UUID-d4783dd8-1307-5f0a-b9ae-bbf16ed1356c" data-permalink="43308-additional-host-requirements---kernel-header-troubleshooting.html" data-topic-level="1" data-relative-prefix="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Additional Host Requirements &amp; Kernel Header Troubleshooting</h1></div></div></div><p>In addition to the information on <a class="link" href="43298-host-requirements-for-agent-installation.html" title="Host Requirements for Agent Installation">Host Requirements for Agent Installation</a>, this page describes host requirements and kernel headers.</p><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-f0618923-56e3-855d-0e1c-d4c9c1358efa"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Additional Requirements</h2></div></div></div><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-af4b883e-c252-217e-e600-a60148f0560c"><div class="titlepage"><div><div class="title"><h3 class="title">Access key</h3></div></div></div><p>The installation of the Sysdig agent requires an <span class="bold bold"><strong>access key</strong></span>. This key and the agent installation instructions are presented to you after activating your account and using a web-based wizard upon initial login.</p><p>The same information can also be found in the <code class="code">Settings &gt; Agent Installation</code> menu of the web interface after logging in. See <a class="link" href="43569-agent-installation--overview-and-key.html" title="Agent Installation: Overview and Key">Agent Installation: Overview and Key</a> for details.</p></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-fb9b3a40-c2c5-2bbe-262f-335899ab8791"><div class="titlepage"><div><div class="title"><h3 class="title">Network connection</h3></div></div></div><p>A small Sysdig agent (containerized or native) is installed into each host being monitored and will need to be able to connect to the Sysdig Monitor backend servers to report host metrics. The agent must be able to reach the address '<a class="link" href="http://collector.sysdigcloud.com" target="_blank">collector.sysdigcloud.com</a>' (via multiple IPs) over <code class="code">port tcp/6443</code> default.</p><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>In earlier versions, the Sysdig Agent connected to port 6666. This behavior has been deprecated, as the Sysdig agent now connects to port 6443.</p></div><div dir="ltr" class="note note"><h3 class="title">Note</h3><p>The agent doesn't use HTTP protocol, thus does not support HTTP proxies. It is possible to use transparent TCP proxy: if a TCP proxy is in use, it must be transparent.</p></div></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-1b406e9b-d1d8-96d8-348c-4702ff741580"><div class="titlepage"><div><div class="title"><h3 class="title">Tags</h3></div></div></div><p>Tagging your hosts is highly recommended. Tags allow you to sort nodes of your infrastructure into custom groups in Sysdig Monitor.</p><p>Replace the [TAGS] parameter in configuration file with a comma-separated list in the form of <span class="bold bold"><strong> <code class="code">TAG_NAME:TAG_VALUE</code> </strong></span>. For example: <span class="bold bold"><strong> <code class="code">role:webserver</code> </strong></span>,<span class="bold bold"><strong> <code class="code">location:europe</code> </strong></span>.</p><p>See <a class="link" href="43392-understanding-the-agent-config-files.html" title="Understanding the Agent Config Files">Understanding the Agent Config Files</a>.</p></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-959e96d4-eba2-72c1-93c0-72ee30baac8a"><div class="titlepage"><div><div class="title"><h3 class="title">TracePoints Support</h3></div></div></div><p>All supported distribution released kernels have this support but if creating a custom kernel, it must support the following options:</p><p> <code class="code">CONFIG_TRACEPOINTS </code> </p><p> <code class="code">CONFIG_HAVE_SYSCALL_TRACEPOINTS</code> </p></section></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-d7f93f0f-fcc8-9b83-9757-ea55f0e302b4"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">About Kernel Headers and the Kernel Module</h2></div></div></div><p>The Sysdig agent requires a kernel module in order to install successfully on a host. This can be obtained in three ways:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p> <span class="bold bold"><strong>Agent compiles the module using kernel headers.</strong></span> </p><p>If the hosts in your environment already have kernel header files pre-installed, no special action is needed. Or you can install the kernel headers manually; see below.</p></li><li class="step"><p> <span class="bold bold"><strong>Agent auto-downloads precompiled modules from Sysdig's AWS storage location. </strong></span> </p><p>If the headers are not already installed but the agent is able to auto-download, no special action is needed. If there is no internet connectivity, you can use method 3 (download from an internal URL).</p></li><li class="step"><p> <span class="bold bold"><strong>Agent downloads precompiled modules from an internal URL.</strong></span> </p><p>Use the environment variable <code class="code">SYSDIG_PROBE_URL</code>. See also <a class="link" href="43392-understanding-the-agent-config-files.html" title="Understanding the Agent Config Files">Understanding the Agent Config Files</a>. Contact Sysdig support for assistance.</p></li></ol></div><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-d8a87cd7-bc6b-c12b-57e4-43df292d67c8"><div class="titlepage"><div><div class="title"><h3 class="title">To Install Kernel Headers</h3></div></div></div><p>In some cases, the host(s) in your environment may use Unix versions that do not match the provided headers, and the agent may fail to install correctly. In those cases, you must install the kernal headers manually.</p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_id_AdditionalHostRequirementsKernelHeaderTroubleshooting-Debian-Style"><div class="titlepage"><div><div class="title"><h4 class="title">Debian-Style</h4></div></div></div><p>For Debian-syle distributions, run the command:</p><pre class="programlisting">
apt-get -y install linux-headers-$(uname -r)</pre></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_id_AdditionalHostRequirementsKernelHeaderTroubleshooting-RHEL-Style"><div class="titlepage"><div><div class="title"><h4 class="title">RHEL-Style</h4></div></div></div><p>For RHEL-style distributions, run the command:</p><pre class="programlisting">yum -y install kernel-devel-$(uname -r)</pre></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_id_AdditionalHostRequirementsKernelHeaderTroubleshooting-RancherOS"><div class="titlepage"><div><div class="title"><h4 class="title">RancherOS</h4></div></div></div><p>For RancherOS distributions, the kernel headers are available in the form of a system service and therefore are enabled using the <code class="code">ros </code>service command:</p><pre class="programlisting">sudo ros service enable kernel-headers-system-docker 
sudo ros service up -d kernel-headers-system-docker</pre><p>NOTE: Some cloud hosting service providers supply pre-configured Linux instances with customized kernels. You may need to contact your provider's support desk for instructions on obtaining appropriate header files, or for installing the distribution's default kernel.</p></section></section><section xml:lang="en" dir="ltr" class="section xinclude lang-en xinclude" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-8d4451ac-7a9a-b89f-8022-e3e4b5c05bb3"><div class="titlepage"><div><div class="title"><h3 class="title">To Correct Kernel Header Errors in AWS AMI</h3></div></div></div><p>During an agent installation in an Amazon machine image (AMI) you may encounter the following errors while the installer is trying to compile the Sysdig kernel module:</p><p> <span class="bold bold"><strong>Errors</strong></span> </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> <span class="italic italic">"Unable to find kernel development files for the current kernel version</span>" or</p></li><li class="listitem"><p> <span class="italic italic">"FATAL: Module sysdigcloud-probe not found"</span> </p></li></ul></div><p>This indicates your machine is running a kernel in an older AMI for which the kernel headers are no longer available in the configured repositories. The issue has to do with Amazon purging packages in the yum repository when new Amazon Linux machine images are released.</p><p>The solution is either to update your kernel to a version for which header files are readily available (recommended), or perform a one-time installation of the kernel headers for your older AMI.</p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_id_AdditionalHostRequirementsKernelHeaderTroubleshooting-Option1UpgradeYourHostsKernel"><div class="titlepage"><div><div class="title"><h4 class="title">Option 1: Upgrade Your Host's Kernel</h4></div></div></div><p>First install a new kernel and reboot your instance:</p><pre class="programlisting"><code class="code">sudo yum -y install kernel
sudo reboot</code></pre><p>After rebooting, check to see if the host is reporting metrics to your Sysdig account. If not, you may need to issue three more commands to install the required header files:</p><pre class="programlisting"><code class="code">sudo yum -y install kernel-devel-$(uname -r)
sudo /usr/lib/dkms/dkms_autoinstaller start
sudo service dragent restart</code></pre></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_id_AdditionalHostRequirementsKernelHeaderTroubleshooting-Option2InstallOlderKernelHeaders"><div class="titlepage"><div><div class="title"><h4 class="title">Option 2: Install Older Kernel Headers</h4></div></div></div><p>Although it is recommended to upgrade to the latest kernel for security and performance reasons, you can alternatively install the older headers for your AMI.</p><p>Find the the AMI version string and install the appropriate headers with the commands:</p><pre class="programlisting">
releasever=$(cat /etc/os-release | grep 'VERSION_ID' | grep -Eo "[0-9]{4}\.[0-9]{2}")
sudo yum -y --releasever=${releasever} install kernel-devel-$(uname -r)</pre><pre class="programlisting"></pre><p>Issue the remaining commands to allow the Sydig Agent to start successfully:</p><pre class="programlisting">sudo /usr/lib/dkms/dkms_autoinstaller start
sudo service dragent restart</pre></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_id_AdditionalHostRequirementsKernelHeaderTroubleshooting-ReferenceFindYourAWSInstanceImageVersion"><div class="titlepage"><div><div class="title"><h4 class="title">Reference: Find Your AWS Instance Image Version</h4></div></div></div><p>The file <code class="code">/etc/image-id</code> shows information about the original machine image with which your instance was set up:</p><pre class="programlisting">[ec2-user ~]$ cat /etc/image-id
image_name="amzn-ami-hvm"
image_version="2017.03"
image_arch="x86_64"image_file="amzn-ami-hvm-2017.03.0.20170401-x86_64.ext4.gpt"image_stamp="26a3-ed31"
image_date="20170402053945"
recipe_name="amzn ami"
recipe_id="47cfa924-413c-d460-f4f2-2af7-feb6-9e37-7c9f1d2b"</pre><p>This file will not change as you install updates from the yum repository.</p><p>The file <code class="code">/etc/system-release</code> will tell what version of the AWS image is currently installed:</p><pre class="programlisting">[ec2-user ~]$ cat /etc/system-release
Amazon Linux AMI release 2017.03</pre></section></section></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a">Additional Host Requirements &amp; Kernel Header Troubleshooting</a></li><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-f0618923-56e3-855d-0e1c-d4c9c1358efa">Additional Requirements</a><ul class="nav"><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-af4b883e-c252-217e-e600-a60148f0560c">Access key</a></li><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-fb9b3a40-c2c5-2bbe-262f-335899ab8791">Network connection</a></li><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-1b406e9b-d1d8-96d8-348c-4702ff741580">Tags</a></li><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-959e96d4-eba2-72c1-93c0-72ee30baac8a">TracePoints Support</a></li></ul></li><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-d7f93f0f-fcc8-9b83-9757-ea55f0e302b4">About Kernel Headers and the Kernel Module</a><ul class="nav"><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-d8a87cd7-bc6b-c12b-57e4-43df292d67c8">To Install Kernel Headers</a><ul class="nav"></ul></li><li><a href="#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-8d4451ac-7a9a-b89f-8022-e3e4b5c05bb3">To Correct Kernel Header Errors in AWS AMI</a><ul class="nav"></ul></li></ul></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div><div id="email-feedback" class=" toggle-feedback"><p><a href='mailto:radhika@sysdig.com?subject=Feedback for help topic "Additional Host Requirements &amp; Kernel Header Troubleshooting"&amp;body=%0D%0A_______________________%0D%0A%0D%0A
			
			Please add your feedback above for topic "Additional Host Requirements &amp; Kernel Header Troubleshooting" in the publication "Sysdig Platform".'><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon voting-feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="43298-host-requirements-for-agent-installation.html#UUID-7982905d-57f6-5b5c-0433-3633f6106bec_UUID-4a5e149f-745c-8acb-441c-4a6798e797fc">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="43308-additional-host-requirements---kernel-header-troubleshooting.html#UUID-2c678b37-7acb-1843-fff4-8754aa6af30a_UUID-f0618923-56e3-855d-0e1c-d4c9c1358efa">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2019 Sysdig </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
